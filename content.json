{"posts":[{"title":"Gradle ç¬”è®°","text":"Android Studio è¿è¡Œå•å…ƒæµ‹è¯•ç±»çš„ä¸€ä¸ªæ–¹æ³•åœ¨ public æ–¹æ³•ä¸ŠåŠ å…¥ @Test æ–‡æ¡£æ ‡è®°ï¼Œè¯¥è¡Œä»£ç å·¦ä¾§å°±ä¼šå‡ºç°ä¸€ä¸ªç»¿è‰²ä¸‰è§’å½¢ï¼Œç‚¹å‡»è¯¥ä¸‰è§’å½¢å°±èƒ½è¿è¡Œè¯¥æ–¹æ³•ã€‚ Android Studio ä½¿ç”¨ Socks5 ä»£ç†æ‰“å¼€ ~/.gradle/gradle.propertiesï¼ŒåŠ å…¥è®¾ç½®ï¼š 12systemProp.socks.proxyHost=127.0.0.1 systemProp.socks.proxyPort=1080 æ³¨æ„ï¼Œ Android Studio çš„è®¾ç½® Appearance &amp; Behavior &gt; System Settings &gt; Http Proxy è®¾ç½®çš„ä»£ç†æœåŠ¡å™¨å¹¶ä¸æ˜¯ gradle ç”¨çš„ä»£ç†ã€‚ gradle ä»£ç†é…ç½®åœ¨ ~/.gradle/gradle.properties æ–‡ä»¶ä¸­ï¼Œä¹Ÿå¯ä»¥æ˜¯é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„ gradle.properties ä¸­ã€‚ gradle å¿…é¡»ä½¿ç”¨ï¼Œå¹¶ä¸”å¿…é¡»æ­£ç¡®é…ç½®ä»£ç†ï¼Œå¦åˆ™ä¸€äº›åŒ…æ²¡æ³•å®‰è£…ã€‚ æ€æ ·è®© Android Studio å•ç‹¬è¿è¡Œä¸€ä¸ªç±»åœ¨ç±»ä¾‹åŠ å…¥ main æ–¹æ³•ï¼ŒAndroid Studio é»˜è®¤æ˜¯ä¸èƒ½æ‰§è¡Œçš„ï¼Œä¼šæŠ¥é”™ã€‚éœ€è¦æ”¹é…ç½®æ‰è¡Œã€‚ æ‰“å¼€ .idea/gradle.xmlï¼Œåœ¨ GradleProjectSettings æ ‡ç­¾ä¸‹åŠ å…¥ &lt;option name=&quot;delegatedBuild&quot; value=&quot;false&quot; /&gt;","link":"/android/gradle-note.html"},{"title":"JavaScript ç®­å¤´å‡½æ•°ä¸ function å‡½æ•°çš„åŒºåˆ«","text":"è§è¿‡ç®­å¤´å‡½æ•°åï¼ŒçŸ¥é“ç®­å¤´å‡½æ•°æ˜¯ function å®šä¹‰å‡½æ•°çš„ç®€å†™ï¼Œç„¶åè¿˜æœ‰ä¸€ç‚¹æ˜¯ç®­å¤´å‡½æ•°ä¸­çš„ this æ˜¯ä¸Šçº§ä»£ç çš„ thisã€‚å…¶å®é™¤äº†è¿™ä¸¤ç‚¹å¤–ï¼Œç®­å¤´å‡½æ•°å’Œ function å‡½æ•°è¿˜æœ‰å¾ˆå¤šåŒºåˆ«ã€‚ 1ã€åŸºæœ¬è¯­æ³•123456789101112// æ²¡æœ‰å‚æ•°æ—¶() =&gt; { // code ...}// æœ‰å‚æ•°æ—¶(param1, param2, ..., paramN) =&gt; { // code ...}// åªæœ‰1ä¸ªå‚æ•°æ—¶ï¼Œåœ†æ‹¬å·å¯ä»¥çœç•¥param =&gt; { // code ...} 2ã€this æŒ‡å‘ åœ¨é¡¶çº§ä»£ç ä¸­ï¼Œ this æŒ‡å‘ window å¯¹è±¡ï¼› åœ¨ function å®šä¹‰çš„å‡½æ•°ä¸­ï¼Œ this æŒ‡å‘è¯¥å‡½æ•°çš„å¯¹è±¡ï¼› åœ¨ç®­å¤´å‡½æ•°ä¸­ï¼Œç®­å¤´å‡½æ•°ä¸ä¼šåˆ›å»ºè‡ªå·±çš„ thisï¼Œå§‹ç»ˆæŒ‡å‘ç®­å¤´å‡½æ•°æ‰€åœ¨ä½œç”¨åŸŸä¸‹çš„ thisã€‚ ç”¨åŸå‹æ–¹æ³• apply()ã€call()ã€bind() ä¸èƒ½æ”¹å˜ç®­å¤´å‡½æ•°ä¸­ this çš„æŒ‡å‘ã€‚ 1234567891011121314const bar = { name: 'johnny'};function foo () { console.log(this.name);}const fa = () =&gt; { console.log(this.name);};// bar ä½œä¸º foo() å®ä¾‹çš„ thisfoo.call(bar); // johnnyfa.call(bar); // TypeError: Cannot read properties of undefined (reading 'name') 3ã€ç®­å¤´å‡½æ•°ä¸èƒ½åšæ„é€ å‡½æ•° ä¸å¯ä»¥ä½¿ç”¨ new å‘½ä»¤åˆ›å»ºç®­å¤´å‡½æ•°å®ä¾‹å¯¹è±¡ï¼Œå› ä¸ºç®­å¤´å‡½æ•°æ²¡æœ‰è‡ªå·±çš„ thisï¼Œä¸èƒ½è°ƒç”¨ call()ã€applyã€‚ç®­å¤´å‡½æ•°æ²¡æœ‰ prototype å±æ€§ï¼Œè€Œ new å‘½ä»¤åœ¨æ‰§è¡Œæ—¶éœ€è¦å°†æ„é€ å‡½æ•°çš„ prototype èµ‹å€¼ç»™æ–°çš„å¯¹è±¡çš„ __proto__å±æ€§ã€‚ 123456789function fn() { console.log(11)}const f = new fn();const fa = () { console.log(22)}new fa(); // TypeError: fa is not a constructor 4ã€ç®­å¤´å‡½æ•°æ²¡æœ‰ arguments å¯¹è±¡1234567891011121314function fn() { console.log(arguments);}fn(1, 2, 3) // [Arguments] { '0': 1, '1': 2, '2': 3 }const fa = () =&gt; { console.log(arguments); // undefined}// ä½¿ç”¨å±•å¼€è¿ç®—ç¬¦ â€¦ æ¥å®ç°ç±»ä¼¼ arguments çš„è°ƒç”¨ï¼Œç¼ºç‚¹æ˜¯åªæœ‰ä¸€ä¸ªå‚æ•°åã€‚let fa2 = (...args) =&gt;{ console.log(args)}fa2(1, 2, 3) // [ 1, 2, 3 ] 5 å¯¹è±¡å±æ€§çš„ç®­å¤´å‡½æ•°å¯¹è±¡å±æ€§çš„ç®­å¤´å‡½æ•°ä¸­çš„ this å¹¶ä¸æ˜¯æŒ‡å‘è¯¥å¯¹è±¡ï¼Œè€Œæ˜¯æŒ‡å‘è¯¥å¯¹è±¡çš„ä¸Šä¸€å±‚ã€‚ 12345678910111213141516171819202122232425function fn () { this.a = 123; const obj = { a: 10, b: function () { console.log(this); // { a: 10, b: [Function: b], c: [Function: c], d: [Function: d] } console.log(this.a); // 10 }, c: () =&gt; { console.log('c this', this); // æŒ‡å‘ fn å‡½æ•°çš„å®ä¾‹ console.log('c this.a', this.a); // 123 }, // å®šä¹‰å¯¹è±¡ function çš„ç®€å†™å½¢å¼ d () { } }; obj.b(); obj.c();}new fn(); ä¸å¯ä»¥ä½¿ç”¨ yield å‘½ä»¤å› ä¸ºä¸å¯ä»¥ä½¿ç”¨ yield å‘½ä»¤ï¼Œç®­å¤´å‡½æ•°ä¸èƒ½ç”¨ä½œ Generator å‡½æ•°ã€‚ æ€»ç»“ç®­å¤´å‡½æ•°ä¸æ˜¯ æ²¡æœ‰ this çš„ function å‡½æ•°ï¼Œå¹¶ä¸èƒ½æ›¿ä»£ function å‡½æ•°ï¼Œç®­å¤´å‡½æ•°æ›´é€‚ç”¨äºéœ€è¦åŒ¿åå‡½æ•°çš„åœ°æ–¹ã€‚å»ºè®®ç”¨ä¸åˆ° function å‡½æ•°ç‰¹æ€§çš„å‡½æ•°éƒ½ç”¨ç®­å¤´å‡½æ•°å®šä¹‰ï¼Œä¾¿äºå¯¹å‡½æ•°çš„å®ç°çš„ç†è§£ã€‚","link":"/front-end/javascript-arrow-function.html"},{"title":"ä½¿ç”¨ Dexie.js ç®€åŒ–è®¿é—®æµè§ˆå™¨æœ¬åœ°æ•°æ®åº“ IndexedDB","text":"localStorage æœ¬åœ°å­˜å‚¨å„å®¶æµè§ˆå™¨åˆ†åˆ«é™åˆ¶åœ¨ 2.5M ~ 10M ä¹‹é—´ï¼Œæœ¬åœ°æµè§ˆå™¨éœ€è¦å­˜å‚¨è¾ƒå¤§æ•°æ®çš„æ—¶å€™å°±ä¸èƒ½ç”¨äº†ï¼Œ IndexedDB å°±èƒ½è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ IndexedDB æ˜¯å­˜å‚¨ç»“æ„ç±»ä¼¼ MangoDB çš„å¯¹è±¡å­˜å‚¨æ•°æ®åº“ï¼Œä¸æ˜¯å…³ç³»å‹æ•°æ®åº“ã€‚ IndexedDB API ç¨å¾®æœ‰ç‚¹éº»çƒ¦ï¼Œç”¨ Dexie.js å¯ç®€åŒ–æ“ä½œã€‚ åŸºæœ¬æ“ä½œ1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768// åˆ›å»º/æ‰“å¼€ æ•°æ®åº“const db = new Dexie('MyDatabase');// å®šä¹‰å­˜å‚¨ï¼ˆè¡¨ï¼‰ç»“æ„db.version(1).stores({ persons: '++id, name, age', // å®šä¹‰ persons è¡¨ï¼Œ++ ä¸ºè‡ªå¢ç±»å‹ï¼Œç¬¬ä¸€ä¸ªå­—æ®µä¸ºä¸»é”®ã€‚});// å†™å…¥æ•°æ®db.persons.add({name: 'è€ç‹', age: 49, address: 'æ²¡å®šä¹‰çš„å­—æ®µä¹Ÿèƒ½å­˜'});// æ‰¹é‡å†™å…¥db.persons.bulkAdd([ { name: &quot;æé›·&quot;, age: 21 }, { name: &quot;éŸ©æ¢…æ¢…&quot;, age: 22 }, { name: &quot;è€æ&quot;, age: 65 },]).then(() =&gt; { // ...});// è¦†ç›–å†™å…¥db.persons.put({id: 1, name: 'å°æ˜', age: 18});// æ‰¹é‡è¦†ç›–å†™å…¥db.persons.bulkPut([ { id: 1, name: &quot;æé›·&quot;, age: 21 }, { id: 2, name: &quot;éŸ©æ¢…æ¢…&quot;, age: 22 }, { id: 3, name: &quot;è€æ&quot;, age: 65 },]).then(() =&gt; { // ...});// è¯»å–æ•°æ®db.persons.get(1).then(item =&gt; { if (!item) { // å¦‚æœä¸»é”®ä¸º 1 çš„æ•°æ®ä¸å­˜åœ¨ï¼Œitem å°†ä¸º undefined return; } // ...});// æ‰¹é‡è¯»å–æ•°æ®db.persons.bulkGet([1,3,5]).then(items =&gt; { items.forEach(item =&gt; { if (!item) { // å¦‚æœä¸»é”®å¯¹åº”çš„æ•°æ®ä¸å­˜åœ¨ï¼Œitem å°†ä¸º undefined return; } // ... });});// æŸ¥è¯¢æ•°æ®db.persons.where({age: 18}); // WHERE age = 18db.persons.where({name: 'æé›·', age: 18}); // WHERE name = 'æé›·' AND age = 18db.persons.where(age).above(20); // WHERE age &gt; 20db.persons.where(age).aboveOrEqual(20); // WHERE age &gt;= 20db.persons.where(age).below(20); // WHERE age &lt; 20db.persons.where(age).belowOrEqual(20); // WHERE age &lt;= 20db.persons.where(age).anyOf([18, 19, 20]); // WHERE age IN(18,19,20)// åˆ†é¡µconst pageSize = 20;const page = 2;db.persons.offset((page-1)*pageSize).limit(pageSize);// æ’åºdb.persons.orderBy(age); // æ­£å‘æ’åºdb.persons.orderBy(age).desc(); // åå‘æ’åº æŸ¥è¯¢ç­›é€‰å™¨ above() è¿”å›ç´¢å¼•ä½äºç»™å®šé”®ä¹‹ä¸Šçš„å¯¹è±¡é›†åˆ aboveOrEqual() è¿”å›ç´¢å¼•é«˜äºæˆ–ç­‰äºç»™å®šé”®çš„å¯¹è±¡é›†åˆ anyOf() è¿”å›ä¸€ä¸ªå¯¹è±¡é›†åˆï¼Œå…¶ä¸­ç´¢å¼•ç­‰äºç»™å®šæ•°ç»„ä¸­çš„ä»»ä½•é”® anyOfIgnoreCase() è¿”å›ä¸€ä¸ªå¯¹è±¡é›†åˆï¼Œå…¶ä¸­ç´¢å¼•ä¸ä»»ä½•ç»™å®šå­—ç¬¦ä¸²åŒ¹é…ï¼Œå¿½ç•¥å¤§å°å†™å·®å¼‚ã€‚ below() è¿”å›ç´¢å¼•ä½äºç»™å®šé”®çš„å¯¹è±¡é›†åˆ belowOrEqual() è¿”å›ç´¢å¼•ä½äºæˆ–ç­‰äºç»™å®šé”®çš„å¯¹è±¡é›†åˆ between() è¿”å›ç´¢å¼•ä½äºç»™å®šè¾¹ç•Œä¹‹é—´çš„å¯¹è±¡é›†åˆ equals() è¿”å›ç´¢å¼•ç­‰äºç»™å®šé”®çš„å¯¹è±¡é›†åˆ equalsIgnoreCase() è¿”å›ä¸€ä¸ªå¯¹è±¡é›†åˆï¼Œå…¶ä¸­ç´¢å¼•ç­‰äºç»™å®šçš„å­—ç¬¦ä¸²é”®ï¼Œå¿½ç•¥å¤§å°å†™å·®å¼‚ inAnyRange() è¿”å›ç´¢å¼•åœ¨ä»»ä½•ç»™å®šèŒƒå›´å†…çš„é›†åˆã€‚ noneOf() è¿”å›ä¸€ä¸ªé›†åˆï¼Œå…¶ä¸­indexç­‰äºç»™å®šæ•°ç»„ä¸­ä»»ä½•é”®ä»¥å¤–çš„ä»»ä½•é”® notEqual() è¿”å›ä¸€ä¸ªé›†åˆï¼Œå…¶ä¸­indexä¸ç­‰äºç»™å®šå€¼ startsWith() è¿”å›ä¸€ä¸ªå¯¹è±¡é›†åˆï¼Œå…¶ä¸­ç´¢å¼•ä»¥ç»™å®šçš„å­—ç¬¦ä¸²é”®å¼€å¤´ startsWithAnyOf() è¿”å›ä¸€ä¸ªå¯¹è±¡é›†åˆï¼Œå…¶ä¸­ç´¢å¼•ä»¥ä»»ä½•ç»™å®šå­—ç¬¦ä¸²å¼€å¤´ startsWithIgnoreCase() è¿”å›ä¸€ä¸ªå¯¹è±¡é›†åˆï¼Œå…¶ä¸­ç´¢å¼•ä»¥ç»™å®šçš„å­—ç¬¦ä¸²é”®å¼€å¤´ï¼Œå¿½ç•¥å¤§å°å†™å·®å¼‚ startsWithAnyOfIgnoreCase() è¿”å›ä¸€ä¸ªå¯¹è±¡é›†åˆï¼Œå…¶ä¸­ç´¢å¼•ä»¥ä»»ä½•ç»™å®šå­—ç¬¦ä¸²å¼€å¤´ï¼Œå¿½ç•¥å¤§å°å†™å·®å¼‚ Dexie.js æ–‡æ¡£","link":"/front-end/dexie-indexeddb.html"},{"title":"å½»åº•ææ¸… JavaScript Promise","text":"åŸºæœ¬ç”¨æ³•æˆ‘ä»¬çŸ¥é“ï¼Œä¸€ä¸ª js Promise å¯¹è±¡ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ then()ã€catch()ã€finally() è¿›è¡Œé“¾å¼æ“ä½œï¼Œå¦‚ï¼š 1234567promiseObj.then((res) =&gt; { // do something}).catch((error) =&gt; { // do something}).finally(() =&gt; { // do something}) è¿™æ˜¯ js Promise çš„åŸºæœ¬ä½¿ç”¨ï¼Œä½†æ˜¯è¦ç”¨å¥½ Promiseï¼Œè¿˜æœ‰ä¸€ä¸‹å‡ ä¸ªé—®é¢˜éœ€è¦ææ¸…æ¥šã€‚ æ€æ ·åˆ›å»º Promise å¯¹è±¡ç”¨ Promise å¯¹è±¡åˆ›å»º Promise å®ä¾‹ 123456789// åˆ›å»º Promise å¯¹è±¡const promiseObj = new Promise((resolve, reject) =&gt; { // è¿™é‡Œæ‰§è¡Œä½ çš„ä¸šåŠ¡é€»è¾‘ if (fail) { return reject('æ‰§è¡Œå¤±è´¥å‚æ•°'); } return resolve('æ‰§è¡ŒæˆåŠŸå‚æ•°');}); ç”¨ async åˆ›å»º Promise å®ä¾‹async å‡½æ•°è¿”å›ä¸€ä¸ª Promise å®ä¾‹ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨æ¥åˆ›å»º Promise å®ä¾‹ã€‚ 12345678910111213141516171819202122async function prm () { // throw new Error('å‡ºé”™äº†1'); // å¦‚æœä¸æ­£å¸¸ï¼ŒæŠ›å‡ºé”™è¯¯ï¼Œè§¦å‘ catch() æ–¹æ³•ï¼Œå¹¶æŠŠæ­¤é”™è¯¯å®ä¾‹ä¼ å‚ç»™ catch() return 100; // æ­£å¸¸ï¼Œè¿”å›å€¼ä¼ å‚ç»™ç¬¬ä¸€ä¸ª then() æ–¹æ³•}prm().then(res =&gt; { // do something}).catch(err =&gt; { // do something});// ç”¨åŒ¿åå‡½æ•°ç«‹å³æ‰§è¡Œå‡½æ•°ä½“åˆ›å»ºå®ä¾‹const x = (async () =&gt; { // throw new Error('å‡ºé”™äº†1'); // å¦‚æœä¸æ­£å¸¸ï¼ŒæŠ›å‡ºé”™è¯¯ï¼Œè§¦å‘ catch() æ–¹æ³•ï¼Œå¹¶æŠŠæ­¤é”™è¯¯å®ä¾‹ä¼ å‚ç»™ catch() return 100; // æ­£å¸¸ï¼Œè¿”å›å€¼ä¼ å‚ç»™ç¬¬ä¸€ä¸ª then() æ–¹æ³•})();x.then(res =&gt; { // do something}).catch(err =&gt; { // do something}); é“¾å¼è°ƒç”¨æ—¶å‚æ•°æ˜¯æ€æ ·ä¼ é€’çš„then() å‚æ•°çš„ä¼ é€’1234567891011121314// åˆ›å»º Promise å¯¹è±¡const promiseObj = new Promise(resolve =&gt; { return resolve(0);});promiseObj.then((res) =&gt; { console.log(1, res); // 1, 0 return 1;}).then((res) =&gt; { console.log(2, res); // 2, 1 return 2;}).then((res) =&gt; { console.log(3, res); // 3, 2 return 3;}) æ‰§è¡Œä¸Šé¢çš„ä»£ç ï¼Œæˆ‘ä»¬å‘ç°ï¼Œç¬¬1ä¸ª then() çš„å‚æ•°æ˜¯ resolve() çš„å‚æ•°å€¼ï¼Œç¬¬2ä¸ª then() åŠä¹‹åçš„ then() çš„å‚æ•°å€¼éƒ½æ˜¯å…¶ä¸Šä¸€ä¸ª then() çš„è¿”å›å€¼ã€‚ catch() å‚æ•°çš„ä¼ é€’catch() å‚æ•°çš„ä¼ é€’å’Œ then() ä¸åŒï¼Œè¦æŠŠé”™è¯¯ä» catch() ä¼ ç»™ä¸‹ä¸€ä¸ª catch()ï¼Œéœ€è¦åœ¨ catch() ä¸­æŠ›å‡ºé”™è¯¯ã€‚ 12345678910111213141516171819202122232425262728293031323334353637Promise.resolve().then(() =&gt; { console.log(1); throw new Error('err');}).catch((err) =&gt; { console.log(2); // throw err; return 'err...'; // catch ä¸­æ²¡æœ‰æŠ›å‡ºé”™è¯¯ï¼Œè¿”å›å€¼å°†ä¼ ç»™ä¸‹ä¸€ä¸ª then()}).catch(() =&gt; { console.log(3);}).then(res =&gt; { console.log(4); console.log(res);});// ç»“æœï¼š// 1// 2// 4// err...Promise.resolve().then(() =&gt; { console.log(1); throw new Error('err');}).catch((err) =&gt; { console.log(2); throw err; // return 'err...';}).catch(() =&gt; { console.log(3);}).then(res =&gt; { console.log(4); console.log(res);});// ç»“æœï¼š// 1// 2// 3// 4 åœ¨ then() ä¸­æ€æ ·ä¼ å€¼ç»™ä¸Šçº§ä»£ç å—js Promise æ˜¯å¼‚æ­¥çš„ï¼ŒåŒä¸€ä¸ª Promise çš„ then() æ–¹æ³•æ˜¯æŒ‰ä»£ç é¡ºåºçš„ä¸€ä¸ª then åˆ°ä¸‹ä¸€ä¸ª than çš„æ‰§è¡Œï¼Œä½†å’Œthan å¤–éƒ¨çš„ä»£ç å—æ˜¯å¼‚æ­¥çš„ã€‚å¦‚æœè¦æŠŠ then ä»£ç å—çš„å€¼ä¼ ç»™ä¸Šå±‚çš„ä»£ç å—ï¼Œå›è°ƒæ˜¯å¸¸ç”¨çš„æ–¹æ³•ï¼Œä½†å¦‚æœä¸Šå±‚ä»£ç å—è¿˜éœ€è¦è¿”å›å¼‚ä»£ç å—ä¸­çš„å€¼çš„æ—¶å€™ï¼Œå›è°ƒå°±åšä¸åˆ°äº†ã€‚ ES2017 æ ‡å‡†å¼•å…¥äº† async å‡½æ•°ï¼Œä½¿å¾—å¼‚æ­¥æ“ä½œå˜å¾—æ›´åŠ æ–¹ä¾¿ã€‚ async å‡½æ•°è¿”å›ä¸€ä¸ª Promise å¯¹è±¡ï¼Œå¯ä»¥ä½¿ç”¨ then æ–¹æ³•æ·»åŠ å›è°ƒå‡½æ•°ã€‚å½“å‡½æ•°æ‰§è¡Œçš„æ—¶å€™ï¼Œä¸€æ—¦é‡åˆ° await å°±ä¼šå…ˆç­‰å¾…ï¼Œç­‰åˆ°è¯¥å¤„çš„å¼‚æ­¥æ“ä½œå®Œæˆï¼Œå†æ¥ç€æ‰§è¡Œå‡½æ•°ä½“å†…åé¢çš„è¯­å¥ã€‚åŠ ä¸Š await åï¼Œå°†è¿”å›å›è°ƒå‡½æ•°çš„è¿”å›å€¼ã€‚ 1234567891011121314151617181920const prm = new Promise((resolve, reject) =&gt; { resolve();});let a = 11;prm.then(res =&gt; { // è¿™é‡Œæ˜¯å¼‚æ­¥çš„ï¼Œåé¢çš„ä»£ç å’Œè¿™é‡Œåˆ†ä¸¤è·¯åŒæ—¶æ‰§è¡Œ a = 22;});console.log(a); // 11async function test () { let a = 11; // è¿™é‡ŒåŠ äº† awaitï¼Œå‘Šè¯‰åé¢çš„ä»£ç è¯´å…ˆç­‰ç­‰ï¼Œæˆ‘è¿™ä¸ªä»£ç å—æ‰§è¡Œå®Œäº†ä½ å†ç»§ç»­ã€‚ a = await prm.then(res =&gt; { // è¿”å›å€¼ä¼ åˆ° a return 22; }); console.log(a); // 22}test(); æ³¨æ„1ã€await å‘½ä»¤åé¢çš„ Promise å¯¹è±¡ï¼Œè¿è¡Œç»“æœå¯èƒ½æ˜¯ rejectedï¼Œæ‰€ä»¥æœ€å¥½æŠŠ await å‘½ä»¤æ”¾åœ¨ try...catch ä»£ç å—ä¸­ã€‚ 123456789101112131415async function myFunction() { try { await somethingThatReturnsAPromise(); } catch (err) { console.log(err); }}// å¦ä¸€ç§å†™æ³•async function myFunction() { await somethingThatReturnsAPromise() .catch(function (err) { console.log(err); });} 2ã€å¤šä¸ªawaitå‘½ä»¤åé¢çš„å¼‚æ­¥æ“ä½œï¼Œå¦‚æœä¸å­˜åœ¨ç»§å‘å…³ç³»ï¼Œæœ€å¥½è®©å®ƒä»¬åŒæ—¶è§¦å‘ã€‚ 12let foo = await getFoo();let bar = await getBar(); ä¸Šé¢ä»£ç ä¸­ï¼ŒgetFoo å’Œ getBar æ˜¯ä¸¤ä¸ªç‹¬ç«‹çš„å¼‚æ­¥æ“ä½œï¼ˆå³äº’ä¸ä¾èµ–ï¼‰ï¼Œè¢«å†™æˆç»§å‘å…³ç³»ã€‚è¿™æ ·æ¯”è¾ƒè€—æ—¶ï¼Œå› ä¸ºåªæœ‰ getFoo å®Œæˆä»¥åï¼Œæ‰ä¼šæ‰§è¡Œ getBarï¼Œå®Œå…¨å¯ä»¥è®©å®ƒä»¬åŒæ—¶è§¦å‘ã€‚ 1let [foo, bar] = await Promise.all([getFoo(), getBar()]); 3ã€await å‘½ä»¤åªèƒ½ç”¨åœ¨ async å‡½æ•°ä¹‹ä¸­ï¼Œå¦‚æœç”¨åœ¨æ™®é€šå‡½æ•°ï¼Œå°±ä¼šæŠ¥é”™ã€‚ä» ES2022 å¼€å§‹å…è®¸ await å¯ä»¥åœ¨é¡¶å±‚ä½¿ç”¨ï¼Œä¸éœ€è¦åœ¨ async å‡½æ•°ä¸­ã€‚ å‚è€ƒï¼š ECMAScript 6 å…¥é—¨","link":"/front-end/javascript-promise-get-over.html"},{"title":"JavaScript åŸå‹æ–¹æ³•ï¼šcallã€applyã€bind","text":"callã€applyã€bind æ˜¯ JavaScript å‡½æ•°çš„åŸå‹æ–¹æ³•ï¼Œç”¨äºæ”¹å˜å‡½æ•°çš„ this æŒ‡å‘æ¥æ‰§è¡Œå‡½æ•°ã€‚ä¸€èˆ¬è¿™ç§é¬¼æ“ä½œèƒ½ä¸ç”¨åˆ™ä¸ç”¨ï¼Œæ²¡å¾—é€‰çš„æ—¶å€™æ‰æœ‰å¿…è¦ç”¨ã€‚ apply() è°ƒç”¨ä¸€ä¸ªå…·æœ‰ç»™å®š this å€¼çš„å‡½æ•°ï¼Œä»¥åŠä»¥ä¸€ä¸ªæ•°ç»„ï¼ˆæˆ–ä¸€ä¸ªç±»æ•°ç»„å¯¹è±¡çš„å½¢å¼æä¾›çš„å‚æ•° call() ä½¿ç”¨ä¸€ä¸ªæŒ‡å®šçš„ this å€¼å’Œå•ç‹¬ç»™å‡ºçš„ä¸€ä¸ªæˆ–å¤šä¸ªå‚æ•°æ¥è°ƒç”¨ä¸€ä¸ªå‡½æ•° bind() åˆ›å»ºä¸€ä¸ªæ–°çš„å‡½æ•°ï¼Œåœ¨ bind() è¢«è°ƒç”¨æ—¶ï¼Œè¿™ä¸ªæ–°å‡½æ•°çš„ this è¢«æŒ‡å®šä¸º bind() çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œè€Œå…¶ä½™å‚æ•°å°†ä½œä¸ºæ–°å‡½æ•°çš„å‚æ•°ï¼Œä¾›è°ƒç”¨æ—¶ä½¿ç”¨ 123456789101112131415const bar = { name: 'johnny'};function foo (age, hobby) { console.log(this.name, age, hobby);}// apply å’Œ call ä½œç”¨ç›¸åŒï¼Œä¼ å‚æ–¹å¼ä¸åŒfoo.apply(bar, [28, 'sleep']); // johnny 28 sleepfoo.call(bar, 28, 'sleep'); // johnny 28 sleep// å…ˆç»‘å®šå¯¹è±¡è¿”å›ä¸€ä¸ªå‡½æ•°const bindBar = foo.bind(bar);bindBar(28, 'sleep'); // johnny 28 sleep å‚è€ƒï¼šæ·±å…¥ç†è§£JavaScriptâ€”â€”callã€applyã€bindä¸‰å¤§å°†","link":"/front-end/javascript-prototype-method-call-apply-bind.html"},{"title":"ç”¨å¯å˜å˜é‡è®¿é—® JavaScript ç±»ã€å¯¹è±¡çš„æ–¹æ³•ï¼ˆåŠ¨æ€è®¿é—® JS ç±»ã€å¯¹è±¡çš„æ–¹æ³•ï¼‰","text":"JavaScriptä¸­ï¼Œç”¨å¯å˜å˜é‡è®¿é—®å¯¹è±¡æ–¹æ³•æˆ–ç±»é™æ€æ–¹æ³•ï¼Œå¦‚æœè®¿é—®çš„æ–¹æ³•ä¸­ thisï¼Œæ­¤æ—¶ this å°†ä¼šæ˜¯ undefinedã€‚ç”¨å¯¹è±¡è§£æ„èµ‹å€¼è·å¾—å‡½æ•°åï¼ˆå¦‚ï¼šxxxï¼‰åï¼Œç”¨å‡½æ•°ååé¢åŠ æ‹¬å·ï¼ˆå¦‚ï¼šxxx()ï¼‰æ‰§è¡Œå‡½æ•°ï¼Œthis ä¹Ÿæ˜¯ undefinedã€‚ é—®é¢˜å¤ç°ï¼š 12345678910111213141516171819// åŠ¨æ€è®¿é—®æ–¹æ³•class Cls1 { fn () { console.log(this); }}const obj = new Cls1();// âŒ é”™è¯¯æ–¹æ³•const fn1 = obj.fn;fn1(); // this undefined// è§£æ„èµ‹å€¼å–å¾—const { fn } = obj;// âŒ é”™è¯¯æ–¹æ³•fn(); // this undefined 1ã€ç”¨ç®­å¤´å‡½æ•°ç®­å¤´å‡½æ•°ä¸­çš„ this æ€»æ˜¯æŒ‡å‘å…¶ä¸Šçº§å¯¹è±¡ï¼Œç”¨ç®­å¤´å‡½æ•°å£°æ˜æ–¹æ³•ï¼Œå¯è§£å†³ä¸Šé¢çš„ä¸¤ä¸ªé—®é¢˜ï¼Œä½†ä¸æ˜¯å®Œç¾çš„ã€‚ç®­å¤´å‡½æ•°ä¸­ä¸èƒ½ç”¨ super å…³é”®å­—ï¼Œå¯¼è‡´æˆ‘ä»¬ä¸èƒ½åœ¨å­ç±»ä¸­æŒ‡å®šè°ƒç”¨çˆ¶ç±»çš„æ–¹æ³•ã€‚ 12345678910111213141516// åŠ¨æ€è®¿é—®æ–¹æ³•class Cls1 { fn = () =&gt; { console.log(this); };}const obj = new Cls1();// å˜é‡å‡½æ•°const fn1 = obj.fn;fn1(); // ok// è§£æ„èµ‹å€¼å–å¾—const { fn } = obj;fn(); // ok 2ã€ç”¨åŸå‹æ–¹æ³•è¿™é‡Œä¸¾ä¾‹ç”¨ call() åŸå‹æ–¹æ³•å®ç°ï¼Œapply()å’Œ bind() æ–¹æ³•å¯åŒæ ·å®ç°ï¼Œåªæœ‰å‚æ•°è°ƒç”¨ä¸Šçš„å´åˆ«ã€‚ è¦äº†è§£è¯¦æƒ…ï¼Œè¯·é˜…è¯»ã€ŠJavaScript åŸå‹æ–¹æ³•ï¼šcallã€applyã€bind çš„ä½¿ç”¨ã€‹ 1234567891011121314151617// åŠ¨æ€è®¿é—®æ–¹æ³•class Cls1 { fn () { console.log(this); }}const obj = new Cls1();// å˜é‡å‡½æ•°const fn1 = obj.fn;fn1.call(obj); // ok// è§£æ„èµ‹å€¼å–å¾—const { fn } = obj;fn.call(obj); // ok é™æ€æ–¹æ³•å¯ä»¥æŠŠæ–¹æ³•ä¸­çš„ this æ¢æˆç±»åå°±å¯ä»¥ï¼Œä¹Ÿå¯ä»¥ç”¨ call æ–¹æ³•ï¼ŒæŠŠå¯¹è±¡å®ä¾‹æ¢æˆç±»åå°±å¯ä»¥ã€‚ 3ã€ç”¨ bind æ”¹è‰¯ callæ¯æ¬¡æ‰§è¡Œå‡½æ•°çš„æ—¶å€™ï¼ŒæœŸå¾… fn() å°±å¯ä»¥ï¼Œä½†æ€»æ˜¯è¦åŠ ä¸Š call å˜æˆ fn.call(obj)ï¼ŒçœŸå®ä¸æ–¹ä¾¿ã€‚ bind çš„å¸¸è§„ç”¨æ³•ï¼š 123const { fn } = obj;const fb = fn.bind(obj) // æŠŠå¯¹è±¡å®ä¾‹ç»‘åˆ°å‡½æ•°ä¸Šfb(); // å¯ä»¥è¿™æ ·æ‰§è¡Œå‡½æ•° è¿™æ ·æ˜¯ä¸æ˜¯æ„Ÿè§‰é—®é¢˜æ›´å¤§äº†ï¼Œè¦å…ˆ bindï¼Œæ‰§è¡Œçš„åˆæ˜¯è·ŸåŸå…ˆå‡½æ•°åä¸ä¸€æ ·çš„å‡½æ•°ã€‚æˆ‘ä»¬è½¬æ¢ä¸€é¡¹æ€è·¯ï¼ŒæŠŠç»‘å®šçš„è¿™ä¸ªæ­¥éª¤æ”¾åˆ°æ„é€ å‡½æ•°ä¸­å»ï¼Œè¿™æ ·å°±å¯ä»¥é¢„å…ˆç»‘å®šå¯¹è±¡å®ä¾‹äº†ã€‚ 123456789101112131415class Cls1 { constructor () { this.fn = this.fn.bind(this); // ç»™ fn ç»‘ä¸Šå¯¹è±¡å®ä¾‹ } fn () { console.log(this); }}const obj = new Cls1();obj.fn();const { fn } = obj;fn(); è¿˜æœ‰ä¸€ç§è§£å†³æ–¹æ³•æ˜¯ä½¿ç”¨ Proxyï¼Œè®¿é—®æ–¹æ³•çš„æ—¶å€™ï¼Œå°†è‡ªåŠ¨ç»‘å®š thisã€‚","link":"/front-end/javascript-variable-variables-callback.html"},{"title":"Vue3ï¼ˆå•æ–‡ä»¶ç»„ä»¶ + &lt;script setup&gt; + ç»„åˆå¼ APIï¼‰ç»„ä»¶å®ä¾‹å¸¸ç”¨å†…ç½®å±æ€§ã€æ–¹æ³•ã€å‡½æ•°","text":"æœ¬æ–‡æ€»ç»“ Vue3 ç»„ä»¶å®ä¾‹åœ¨æ¨¡æ¿ä¸­æš´éœ²çš„å¸¸ç”¨å…¬å…±å±æ€§å’Œæ–¹æ³•ï¼Œä»¥åŠå¯¹åº”çš„ ç»„åˆå¼ API å‡½æ•°ã€‚ $data/$props/$options å±æ€§åœ¨ ç»„åˆå¼ API ä¸‹å‡ ä¹ç”¨ä¸åˆ°ã€‚$el ä¸å»ºè®®ç”¨ã€‚$slots è¡¨ç¤ºçˆ¶ç»„ä»¶æ‰€ä¼ å…¥æ’æ§½çš„ä¸€ä¸ªå¯¹è±¡ï¼Œå¾ˆå°‘ç”¨ï¼Œæœ‰å…´è¶£å¯æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£ã€‚ $parentæ¨¡æ¿ä¸­ç”¨ $parent è·å–çˆ¶ç»„ä»¶å®ä¾‹ï¼Œå¯è®¿é—®çˆ¶ç»„ä»¶ç”¨ defineExpose() æ˜¾å¼æš´éœ²çš„ç»‘å®šã€‚ ç»„åˆå¼ API å…ˆåœ¨ setup ä¸­ç”¨ getCurrentInstance() è·å–åˆ°å½“å‰ç»„ä»¶å®ä¾‹ï¼Œå†ç”¨ parent å±æ€§è®¿é—®çˆ¶ç»„ä»¶ã€‚getCurrentInstance().parent é™¤äº†èƒ½è®¿é—®çˆ¶ç»„ defineExpose() æš´æ¼çš„ç»‘å®šå¤–ï¼Œèƒ½è®¿é—®çˆ¶ç»„ä»¶æ›´å¤šçš„å±æ€§å’Œæ–¹æ³•ï¼Œå¤šç”¨äºç»„ä»¶çš„å¼€å‘ï¼Œåœ¨åº”ç”¨å¼€å‘ä¸­ä¸€èˆ¬ä¸å»ºè®®ç”¨ã€‚ 12345import { getCurrentInstance } from 'vue';const parent = getCurrentInstance().parent; // è·å–çˆ¶ç»„ä»¶çš„å®ä¾‹parent.exposed // è®¿é—®çˆ¶ç»„ä»¶ defineExpose() æš´éœ²çš„ç»‘å®šparent.refs // çˆ¶ç»„ä»¶ä¸­çš„æ¨¡æ¿å¼•ç”¨ï¼Œåœ¨æ¨¡æ¿ä¸­ç”¨ $parent.$refs $root æ¨¡æ¿ä¸­é€šè¿‡ $root å˜é‡è®¿é—®æ ¹å®ä¾‹ç”¨ defineExpose() æ˜¾å¼æš´éœ²çš„ç»‘å®šã€‚ç»„åˆå¼ API å¯¹åº”ä¸º getCurrentInstance().rootã€‚ $refsç»„ä»¶å®ä¾‹çš„æ¨¡æ¿å¼•ç”¨ã€‚ç»„åˆå¼ API ç”¨ ref(null) èµ‹å€¼ç»™ä¸€ä¸ªæ¨¡æ¿å¼•ç”¨ååŒåçš„å˜é‡å¾—åˆ°å®ä¾‹ã€‚ 123456789101112&lt;script setup&gt;import { ref } from 'vue';const inputRef = ref(); // è¿™æ ·å°±å¯ä»¥ç”¨ inputRef è®¿é—® MyComponent æ˜¾å¼æš´éœ²çš„ç»‘å®šäº†ã€‚&lt;/script&gt;&lt;template&gt; &lt;MyComponent ref=&quot;inputRef&quot; /&gt; &lt;!-- æ¨¡æ¿ä¸­ç”¨ $refs è®¿é—®æ¨¡æ¿å®ä¾‹ --&gt; {{ $refs.inputRef.xxx }}&lt;/template&gt; $emit()ç»„åˆå¼ API å¼€å‘ä¸­ï¼Œåœ¨æ¨¡æ¿ä¸­å¯ä»¥ç”¨ $emit() è§¦å‘äº‹ä»¶ï¼Œè§¦å‘å‰éœ€è¦å…ˆç”¨ defineEmits() å£°æ˜äº‹ä»¶ã€‚åœ¨ setup ä¸­ç”¨å£°æ˜äº‹ä»¶ç¼–è¯‘å™¨å® defineEmits() è¿”å›çš„å‡½æ•°æ¥è§¦å‘äº‹ä»¶ã€‚ 123456789101112&lt;script setup&gt;const emt = defineEmits(['ev-1', 'ev-2'])function myHandler() { emt('ev-2')}&lt;/script&gt;&lt;template&gt; &lt;button @click=&quot;$emit('ev-1')&quot;&gt; click &lt;/button&gt; &lt;button @click=&quot;myHandler&quot;&gt; click &lt;/button&gt;&lt;/template&gt;","link":"/front-end/vue-sfc-script-setup-component-instance.html"},{"title":"Vue3 ç»„ä»¶é—´ç›¸äº’è®¿é—®ï¼ˆå•æ–‡ä»¶ + &lt;script setup&gt; + ç»„åˆå¼ API ä¸¾ä¾‹ï¼‰","text":"çˆ¶ç»„ä»¶ä¼ å‚æ•°åˆ°å­ç»„ä»¶ - propsåœ¨ &lt;script setup&gt; ä¸­ç”¨ defineProps() å£°æ˜ç»„ä»¶çš„å±æ€§ï¼Œåœ¨çˆ¶ç»„ä»¶æ¨¡æ¿ä¸­å¼•ç”¨å­ç»„ä»¶æ—¶ï¼Œå°±å¯ä»¥ç»™é€šè¿‡å±æ€§ç»™å­ç»„ä»¶ä¼ å‚æ•°ï¼ˆå¯ä»¥æ˜¯å€¼ã€å˜é‡ã€å‡½æ•°ã€å¯¹è±¡ç­‰ï¼‰ã€‚ defineProps æ˜¯ç¼–è¯‘å™¨å®ï¼ŒVue3 ç¼–è¯‘å™¨å®ä¸éœ€è¦å¯¼å…¥ï¼Œå¹¶ä¸”åªèƒ½åœ¨ &lt;script setup&gt; ä¸­ä½¿ç”¨ã€‚ ex: å­ç»„ä»¶å£°æ˜ã€è°ƒç”¨å±æ€§ 12345678910111213&lt;!-- HelloWorld.vue å­ç»„ä»¶--&gt;&lt;script setup&gt;// å£°æ˜å±æ€§defineProps([{ msg: String}])&lt;/script&gt;&lt;template&gt; &lt;div&gt; {{ msg }} &lt;/div&gt;&lt;/template&gt; ex: çˆ¶ç»„ä»¶ä½¿ç”¨å±æ€§ 12345678&lt;!-- Demo.vue çˆ¶ç»„ä»¶ --&gt;&lt;script setup&gt;import HelloWorld from './HelloWorld.vue'&lt;/script&gt;&lt;template&gt; &lt;HelloWorld msg=&quot;Welcome&quot;/&gt;&lt;/template&gt; çˆ¶ç»„ä»¶ä¼ é€’äº‹ä»¶åˆ°å­ç»„ä»¶ åœ¨ &lt;script setup&gt; ä¸­ç”¨ç¼–è¯‘å™¨å® defineEmits() å£°æ˜ç»„ä»¶æä¾›çš„äº‹ä»¶ï¼Œå¹¶ä¸”è§¦å‘äº‹ä»¶åï¼Œåœ¨çˆ¶ç»„ä»¶å¼•ç”¨å­ç»„ä»¶æ—¶å°±å¯ä»¥ç»™å­ç»„ä»¶ä¼ é€’äº‹ä»¶ã€‚ æ¨¡æ¿ä¸­ç”¨å¯ç›´æ¥ç”¨ $emit å˜é‡è§¦å‘äº‹ä»¶ï¼Œä¸éœ€è¦ç”¨ defineEmits() å£°æ˜ï¼Œä½†æ˜¯å®ç°è§¦å‘äº‹ä»¶çš„åŒæ—¶è¿˜éœ€è¦åšå…¶ä»–äº‹æƒ…æ—¶ï¼Œå°±è¦ç”¨ defineEmits()ã€‚ ex: å­ç»„ä»¶å£°æ˜ &amp; è§¦å‘äº‹ä»¶ 12345678910111213141516171819202122232425&lt;!-- HelloWorld.vue å­ç»„ä»¶--&gt;&lt;script setup&gt;// å£°æ˜äº‹ä»¶const emits = defineEmits(['my-event-a', 'myEventB'])const onEventA = () =&gt; { // è§¦å‘äº‹ä»¶ emits('my-event-a'); // more code}const onEventB = () =&gt; { // è§¦å‘äº‹ä»¶ï¼Œå¹¶ç»™äº‹ä»¶ä¼ å‚ emits('my-event-b', 'å‚æ•°1', 'å‚æ•°2', 'å‚æ•°...'); // more code}&lt;/script&gt;&lt;template&gt; &lt;div&gt; &lt;button @click=&quot;$emit('my-event-1')&quot;&gt;$emit è§¦å‘äº‹ä»¶&lt;/button&gt; &lt;button @click=&quot;$emit('my-event-2', 'å‚æ•°1', 'å‚æ•°2')&quot;&gt;$emit è§¦å‘äº‹ä»¶å¹¶ä¼ å‚&lt;/button&gt; &lt;button @click=&quot;onEventA&quot;&gt;æŒ‰é’®a&lt;/button&gt; &lt;button @click=&quot;onEventB&quot;&gt;æŒ‰é’®b&lt;/button&gt; &lt;/div&gt;&lt;/template&gt; ex: çˆ¶ç»„ä»¶ä¼ é€’äº‹ä»¶åˆ°å­ç»„ä»¶ 123456789101112131415&lt;!-- Demo.vue çˆ¶ç»„ä»¶ --&gt;&lt;script setup&gt;import HelloWorld from './HelloWorld.vue';const handle1 = () =&gt; { console.log('hi')}const handle2 = (arg1, arg2) =&gt; { console.log(arguments)}&lt;/script&gt;&lt;template&gt; &lt;HelloWorld msg=&quot;Welcome&quot; @my-event-1=&quot;handle1&quot; @my-event-2=&quot;handle2&quot; @my-event-a=&quot;handle1&quot; @my-event-b=&quot;handle2&quot; /&gt;&lt;/template&gt; çˆ¶ç»„ä»¶é€šè¿‡æ’æ§½ç»™å­ç»„ä»¶åˆ†é…å†…å®¹ä½¿ç”¨ &lt;slot /&gt; ä½œä¸ºä¸€ä¸ªå ä½ç¬¦ï¼Œçˆ¶ç»„ä»¶ä¼ é€’è¿›æ¥çš„å†…å®¹å°±ä¼šæ¸²æŸ“åœ¨è¿™é‡Œã€‚ 1234567&lt;!-- AlertBox.vue å­ç»„ä»¶ --&gt;&lt;template&gt; &lt;div class=&quot;alert-box&quot;&gt; &lt;strong&gt;This is an Error for Demo Purposes&lt;/strong&gt; &lt;slot /&gt; &lt;/div&gt;&lt;/template&gt; 12345678910&lt;!-- Demo.vue çˆ¶ç»„ä»¶ --&gt;&lt;script setup&gt;import AlertBox from './AlertBox.vue'&lt;/script&gt;&lt;template&gt; &lt;AlertBox&gt; Something bad happened. &lt;/AlertBox&gt;&lt;/template&gt; çˆ¶ç»„ä»¶è®¿é—®å­ç»„ä»¶å®ä¾‹çˆ¶ç»„ä»¶é€šè¿‡æ¨¡æ¿å¼•ç”¨æˆ–è€… $parent é“¾è·å–åˆ°çš„ç»„ä»¶çš„å…¬å¼€å®ä¾‹ï¼Œé»˜è®¤ä¸ä¼šæš´éœ²ä»»ä½•åœ¨ &lt;script setup&gt; ä¸­å£°æ˜çš„ç»‘å®šï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ defineExpose ç¼–è¯‘å™¨å®æ¥æ˜¾å¼æŒ‡å®šè¦æš´éœ²å“ªäº›ç»‘å®šã€‚ ex: å­ç»„ä»¶æ˜¾å¼æš´æ¼ç»‘å®š 123456789101112&lt;!-- Foo.vue --&gt;&lt;script setup&gt;import { ref } from 'vue'const a = 11const b = ref(2)const c = () =&gt; { console.log('im foo')}defineExpose({ a, b, c })&lt;/script&gt; å½“çˆ¶ç»„ä»¶é€šè¿‡æ¨¡æ¿å¼•ç”¨çš„æ–¹å¼è·å–åˆ°å½“å‰ç»„ä»¶çš„å®ä¾‹ï¼Œè·å–åˆ°çš„å®ä¾‹ä¼šåƒè¿™æ · { a: number, b: number } (ref ä¼šå’Œåœ¨æ™®é€šå®ä¾‹ä¸­ä¸€æ ·è¢«è‡ªåŠ¨è§£åŒ…) ex: çˆ¶ç»„ä»¶é€šè¿‡æ¨¡æ¿å¼•ç”¨è®¿é—®å­ç»„ä»¶æš´æ¼çš„ç»‘å®š 123456789101112131415161718192021&lt;!-- Demo.vue --&gt;&lt;script setup&gt;import { ref } from 'vue';import Foo from './Foo.vue'; // setup ä¸­ ç”¨ ref(null) å£°æ˜è·Ÿå˜é‡ååŒåçš„æ¨¡æ¿å¼•ç”¨const fooRef = ref(); // &lt;Foo ref=&quot;fooRef&quot; /&gt;const abc = () =&gt; { // é€šè¿‡æ¨¡æ¿å¼•ç”¨è·å–å®ä¾‹æš´å˜é‡å€¼ // æ³¨æ„ï¼šéœ€è¦ç­‰åˆ° mounted åè®¿é—®æ¨¡æ¿å®ä¾‹æ‰æœ‰æ•ˆ console.log(fooRef.value.a) // 11 fooRef.value.c()}&lt;/script&gt;&lt;template&gt; &lt;Foo ref=&quot;fooRef&quot; /&gt; &lt;!-- åœ¨æ¨¡æ¿ä¸­å¯ä»¥ç›´æ¥ç”¨ $refs è®¿é—®æ¨¡æ¿å¼•ç”¨ï¼Œä¸éœ€è¦å£°æ˜ --&gt; &lt;p&gt;{{ $refs['fooRef'].a }}&lt;/p&gt;&lt;/template&gt; å­ç»„ä»¶è®¿é—®çˆ¶ç»„ä»¶æ–¹å¼1 ä½¿ç”¨ defineExposeçˆ¶ç»„ä»¶ç”¨ defineExpose() æ˜¾å¼æš´éœ²ç»‘å®šåï¼Œåœ¨å­ç»„ä»¶çš„ &lt;script setup&gt; ä¸­ç”¨ getCurrentInstance().parent.exposed è®¿é—®ï¼Œåœ¨å­ç»„ä»¶çš„æ¨¡æ¿ä¸­ç”¨ $parent è®¿é—®ã€‚ æ¨èåœ¨å­ä»¶çš„æ¨¡æ¿ä¸­è°ƒç”¨çˆ¶ç»„ä»¶æ—¶ä½¿ç”¨è¯¥æ–¹å¼ï¼Œåœ¨å­ç»„ä»¶çš„ &lt;script setup&gt; ä¸­æ¨èç”¨ä¾èµ–æ³¨å…¥æ›´æ–¹ä¾¿ã€‚ ex: çˆ¶ç»„ä»¶å¼•ç”¨å­ç»„ä»¶ 12345678910111213141516&lt;!-- Demo.vue çˆ¶ç»„ä»¶ --&gt;&lt;script setup&gt;import { ref } from 'vue';import Foo from './Foo.vue';const a = 111const bar = () =&gt; { console.log('im done.')}defineExpose({ a, bar }) // æ˜¾å¼æš´éœ² bar ç»‘å®š&lt;/script&gt;&lt;template&gt; &lt;!-- çˆ¶ç»„ä»¶å¼•ç”¨å­ç»„ä»¶ --&gt; &lt;Foo ref=&quot;fooRef&quot; /&gt;&lt;/template&gt; ex: å­ç»„ä»¶è®¿é—®çˆ¶ç»„ä»¶æ˜¾å¼æš´éœ²çš„ç»‘å®š 12345678910111213&lt;!-- Foo.vue å­ç»„ä»¶ --&gt;&lt;script setup&gt;import { getCurrentInstance } from 'vue';// è®¿é—®çˆ¶ç»„ä»¶ defineExpose() æš´æ¼çš„ç»‘å®šconst parentExposed = getCurrentInstance().parent.exposed;console.log(parentExposed.a)parentExposed.bar()&lt;/script&gt;&lt;template&gt; &lt;!-- æ¨¡æ¿ä¸­ç›´æ¥ç”¨ $parent å°±å¯ä»¥è°ƒç”¨çˆ¶ç»„ä»¶æš´æ¼çš„ç»‘å®š --&gt; {{ $parent.a }}&lt;/template&gt; æ–¹å¼2 ä½¿ç”¨ Vue3 çš„ä¾èµ–æ³¨å…¥ç”¨ provide() åœ¨çˆ¶ç»„ä»¶æä¾›ä¾èµ–ï¼Œç”¨ inject() åœ¨å­ç»„ä»¶ &lt;script setup&gt; ä¸­æ³¨å…¥ã€‚ åœ¨ setup ä¸­è®¿é—®çˆ¶ç»„ä»¶ï¼Œä½¿ç”¨ä¾èµ–æ³¨å…¥æ›´ä¾¿æ·ã€‚inject() å¿…é¡»åœ¨ç»„ä»¶çš„ setup() é˜¶æ®µåŒæ­¥è°ƒç”¨ã€‚ ex: çˆ¶ç»„ä»¶æä¾›ä¾èµ– 12345678910111213&lt;!-- Demo.vue çˆ¶ç»„ä»¶ --&gt;&lt;template&gt; &lt;Foo /&gt; &lt;/template&gt;&lt;script setup&gt;import { provide } from 'vue'import Foo from './Foo.vue';provide('bar', () =&gt; { console.log('Hello')})&lt;/script&gt; ex: å­ç»„ä»¶æ³¨å…¥ä¾èµ– 123456&lt;!-- Foo.vue å­ç»„ä»¶ --&gt;&lt;script setup&gt;import { inject } from 'vue';const abc = inject('bar');abc()&lt;/script&gt; å…„å¼Ÿç»„ä»¶äº’ç›¸è®¿é—®å…„å¼Ÿç»„ä»¶åŠ ä¸Š ref å±æ€§åï¼Œé€šè¿‡çˆ¶ç»„ä»¶çš„ refs å°±å¯ä»¥è°ƒç”¨åˆ°å…„å¼Ÿç»„ä»¶ç”¨ defineExpose() æš´æ¼çš„ç»‘å®šï¼Œ ex: çˆ¶ç»„ä»¶æ˜¾å¼æš´æ¼ç»‘å®š 123456789101112131415&lt;!-- Demo.vue çˆ¶ç»„ä»¶ --&gt;&lt;template&gt; &lt;Foo ref=&quot;fooRef&quot; /&gt; &lt;/template&gt;&lt;script setup&gt;import Foo from './Foo.vue';const a = 1;const bar = () =&gt; { console.log('im bar')}defineExpose({ a, bar })&lt;/script&gt; ex: å­ç»„ä»¶è®¿é—®çˆ¶ç»„ä»¶æš´æ¼çš„ç»‘å®š 12345678910111213&lt;!-- Foo.vue å­ç»„ä»¶ --&gt;&lt;script setup&gt;import { getCurrentInstance } from 'vue';const parent = getCurrentInstance().parent; // è·å–çˆ¶ç»„ä»¶çš„æ¨¡æ¿å¼•ç”¨parent.refs.fooRef.a // è°ƒç”¨æš´æ¼çš„å˜é‡parent.refs.fooRef.bar() // è°ƒç”¨æš´æ¼çš„æ–¹æ³•&lt;/script&gt;&lt;template&gt; &lt;!-- åœ¨æ¨¡æ¿ä¸­ç”¨é¢„ç½®çš„ $parent è®¿é—®è¦†è†œæ¿æš´æ¼çš„ç»‘å®š --&gt; {{ $parent.$refs.fooRef.a }} &lt;button @click=&quot;$parent.$refs.fooRef.bar()&quot;&gt;ç‚¹æˆ‘&lt;/button&gt;&lt;/template&gt; ä½¿ç”¨çŠ¶æ€ç®¡ç†æ¯”è¾ƒå¤æ‚çš„åº”ç”¨ï¼Œå¼ºçƒˆæ¨èä½¿ç”¨è¯¥æ–¹æ³•ã€‚æˆ‘ä»¬å¯ä»¥ç”¨ å“åº”å¼ API åšç®€å•çŠ¶æ€ç®¡ç†ã€‚ åŸç†æ ¹æ® js å˜é‡çš„ä½œç”¨åŸŸçš„ç‰¹æ€§ï¼Œåœ¨ä¸€ä¸ªå•é¡µé¢åº”ç”¨ï¼ˆSPAï¼‰ä¸­ï¼Œå¦‚æœæœ‰ä¸€ä¸ªæ–‡ä»¶å®šä¹‰äº†å…¨å±€å˜é‡ï¼ŒSPA ä¸­ä»»æ„ä¸€ä¸ªæ–‡ä»¶ import è¯¥æ–‡ä»¶ï¼Œéƒ½ä¼šå…±äº«è¯¥å˜é‡ã€‚ä»£ç å¦‚ä¸‹ï¼š 123456// test.jslet a1 = 0;export function pr() { ++a1; console.log(a1)} å¦‚æœä½ æœ‰ä¸€éƒ¨åˆ†çŠ¶æ€éœ€è¦åœ¨å¤šä¸ªç»„ä»¶å®ä¾‹é—´å…±äº«ï¼Œä½ å¯ä»¥ä½¿ç”¨ reactive() æˆ– ref() æ¥åˆ›å»ºä¸€ä¸ªå“åº”å¼å¯¹è±¡ï¼Œå¹¶å°†å®ƒå¯¼å…¥åˆ°å¤šä¸ªç»„ä»¶ä¸­ï¼š 123456789// todoListStore.jsimport { ref } from 'vue';export const todoList = ref([]);export function loadData() (list) { // ä»æœåŠ¡å™¨ç«¯åŠ è½½æ•°æ® fetch('/todo').then(function (res) { todoList.value = res.json().items; })} çˆ¶ç»„ä»¶æˆ–å­ç»„ä»¶éƒ½å¯ä»¥å¼•å…¥ todoListStore.jsï¼Œå…±åŒç»´æŠ¤å…¶ä¸­çš„å“åº”å¼å˜é‡ todoList çš„çŠ¶æ€ã€‚ æ›´å¤æ‚çš„çŠ¶æ€ç®¡ç†ï¼Œæ¨èä½¿ç”¨ Piniaã€‚ ä½¿ç”¨ window å˜é‡åœ¨ç»„ä»¶ä¸­æŠŠå˜é‡èµ‹å€¼ç»™ windows å˜é‡ï¼Œçˆ¶ç»„ä»¶ã€å…„å¼Ÿç»„ä»¶ã€å­ç»„ä»¶éƒ½èƒ½è®¿é—®åˆ°ï¼Œå­ç»„ä»¶ setup() ä¹‹å¤–ä¹Ÿèƒ½è®¿é—®åˆ°ã€‚æ­¤æ–¹æ³•è¿èƒŒäº† Vue3 çš„è®¾è®¡æ€æƒ³ï¼Œå®¹æ˜“å¼•èµ·æ··ä¹±ï¼Œæ…ç”¨ã€‚","link":"/front-end/vue3-component-transfer-value.html"},{"title":"åœ¨ Vue3 &lt;script setup&gt; + ç»„åˆå¼ API ä¹‹ æ€ç”¨ä½¿ç”¨å“åº”å¼å˜é‡","text":"ä»€ä¹ˆæ˜¯å“åº”å¼ï¼ŸVue3 çš„å“åº”å¼æ˜¯ï¼šå½“æ›´æ”¹å“åº”å¼å¯¹è±¡çš„å€¼æ”¹å˜æ—¶ï¼Œè§†å›¾ä¼šéšå³è‡ªåŠ¨æ›´æ–°ã€‚ ref()ref() è¿”å›ä¸€ä¸ªå“åº”å¼å¯¹è±¡ï¼Œå¯ä»¥ç”¨ value å±æ€§æ¥è®¿é—®æˆ–æ›´æ”¹å¯¹è±¡çš„å€¼ã€‚ref å¯¹è±¡åœ¨æ¨¡æ¿ä¸­ä¼šè‡ªåŠ¨è§£åŒ…ï¼Œç”¨å˜é‡åä¸éœ€è¦åŠ  .value å°±èƒ½è®¿é—®ã€‚ 1234567891011&lt;script setup&gt;import { ref } from 'vue';const say = ref('hi'); // å®šä¹‰å€¼ä¸º hi çš„å“åº”å¼å˜é‡ saysay.value = 'hello'; // æŠŠ say çš„å€¼æ”¹ä¸º hello&lt;/script&gt;&lt;template&gt; &lt;!-- è‡ªåŠ¨è§£åŒ…ï¼Œä¸éœ€è¦äº›æˆ {{ say.value }} --&gt; &lt;p&gt;{{ say }}&lt;/p&gt;&lt;/template&gt; reactive() ç”¨ reactive() å‡½æ•°å¯ä»¥åˆ›å»ºä¸€ä¸ªå“åº”å¼å¯¹è±¡ï¼Œå¯ä»¥ç”¨å¯¹è±¡çš„å±æ€§æ¥è®¿é—®å¯¹è±¡ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ Object.assign() æ¥æ”¹å˜å¯¹è±¡ã€‚ 123456789101112131415161718&lt;script setup&gt;import { reactive } from 'vue'const state = reactive({ count: 0 })Object.assign(state, {count: 9}); // ç”¨ Object.assign æ›´æ”¹ï¼Œä½¿ç”¨æ—¶åº”æ³¨æ„ï¼ŒObject.assign ä¸ºè¦†ç›–å¼æµ…æ‹·è´å€¼ã€‚function increment() { state.count++}&lt;/script&gt;&lt;template&gt; &lt;button @click=&quot;increment&quot;&gt; {{ state.count }} &lt;/button&gt;&lt;/template&gt; reactive() ä»…å¯¹ å¯¹è±¡ç±»å‹ æœ‰æ•ˆï¼ˆå¯¹è±¡ã€æ•°ç»„å’Œ Mapã€Set è¿™æ ·çš„é›†åˆç±»å‹ï¼‰ï¼Œè€Œå¯¹ stringã€number å’Œ boolean è¿™æ ·çš„ åŸå§‹ç±»å‹ æ— æ•ˆã€‚ readonly()readonly() è¿”å›ä¸€ä¸ªåŸå€¼çš„åªè¯»ä»£ç†å¯¹è±¡ã€‚ å“åº”å¼æ•°æ®æºçš„ä¾¦å¬ç»„åˆå¼ API é€šè¿‡å¦‚ä¸‹å‡½æ•°å®šä¹‰ä¾¦å¬å“åº”å¼æ•°æ®æºï¼Œè¯¦è§å®˜æ–¹æ–‡æ¡£ã€‚ watch() ä¾¦å¬ä¸€ä¸ªæˆ–å¤šä¸ªå“åº”å¼æ•°æ®æºï¼Œå¹¶åœ¨æ•°æ®æºå˜åŒ–æ—¶è°ƒç”¨æ‰€ç»™çš„å›è°ƒå‡½æ•°ã€‚ watchEffect() watch() ä½¿ç”¨ immediate: true é€‰é¡¹æ—¶çš„åˆ«åï¼Œç«‹å³è¿è¡Œä¸€ä¸ªå‡½æ•°ï¼ŒåŒæ—¶å“åº”å¼åœ°è¿½è¸ªå…¶ä¾èµ–ï¼Œå¹¶åœ¨ä¾èµ–æ›´æ”¹æ—¶é‡æ–°æ‰§è¡Œã€‚ watchPostEffect() watchEffect() ä½¿ç”¨ flush: 'post' é€‰é¡¹æ—¶çš„åˆ«åã€‚ watchSyncEffect() watchEffect() ä½¿ç”¨ flush: 'sync' é€‰é¡¹æ—¶çš„åˆ«åã€‚ ref()/reactive/éå“åº”å¼å˜é‡è¯¥æ€æ ·é€‰æ‹©ï¼Ÿå“åº”å¼éœ€è¦å®æ—¶ç›‘å¬å˜é‡çš„çŠ¶æ€ï¼Œæ˜¯éœ€è¦ç³»ç»Ÿå¼€é”€çš„ï¼Œæ‰€ä»¥ä¸åº”è¯¥æ‰€æœ‰çš„å˜é‡éƒ½ç”¨å“åº”å¼ã€‚å½“é¡µé¢å› å“åº”å¼å˜é‡å˜åŠ¨è€Œåˆ·æ–°æ—¶ï¼ˆåŒ…æ‹¬éšè—ã€æ˜¾ç¤ºï¼‰ï¼Œå¾ˆå¤šæ—¶å€™éå“åº”å¼å˜é‡å€¼æ”¹åŠ¨äº†ä¹Ÿä¼šè·Ÿç€å˜ï¼Œä½†å¹¶ä¸æ˜¯100%ã€‚åªè¦æ¶‰åŠåˆ°æ¨¡æ¿è·Ÿç€å®æ—¶æ›´æ–°çš„å˜é‡ï¼Œéƒ½åº”è¯¥ç”¨å“åº”å¼å˜é‡ï¼Œåä¹‹åˆ™åº”è¯¥ç”¨é£å“åº”å¼å˜é‡ã€‚ å½“å˜é‡æ”¹åŠ¨åï¼Œæ¨¡æ¿è§†å›¾ä¸éœ€è¦è·Ÿç€å˜çš„æ—¶å€™ï¼Œä¸éœ€è¦ç”¨å“åº”å¼å˜é‡ã€‚ å½“éœ€è¦å“åº”å¼ï¼Œå¹¶ä¸”è¦è¦†ç›–å…¨éƒ¨çš„å€¼æ¥æ›´æ”¹çš„æ—¶å€™ï¼Œä½¿ç”¨ refï¼Œå¦‚åˆ—è¡¨æ•°ç»„ã€åŸå§‹ç±»å‹ç­‰ã€‚ å½“å€¼ä¸ºå¯¹è±¡ï¼ˆå¯¹è±¡ã€æ•°ç»„ã€Mapã€Set ç­‰é›†åˆç±»å‹ï¼‰ç±»å‹çš„æ—¶å€™ï¼Œç”¨ reactiveã€‚ å‚è€ƒ1ã€å“åº”å¼åŸºç¡€2ã€æ·±å…¥å“åº”å¼ç³»ç»Ÿ3ã€å“åº”å¼APIï¼šæ ¸å¿ƒ","link":"/front-end/vue3-sfc-composition-script-setup-reactivity.html"},{"title":"åœ¨ Vue3 å•æ–‡ä»¶ç»„ä»¶ä¸­ä½¿ç”¨ &lt;script setup&gt; + ç»„åˆå¼ API","text":"&lt;script setup&gt; æ˜¯åœ¨å•æ–‡ä»¶ç»„ä»¶ (SFC) ä¸­ä½¿ç”¨ç»„åˆå¼ API çš„ç¼–è¯‘æ—¶è¯­æ³•ç³–ã€‚å½“åŒæ—¶ä½¿ç”¨ SFC ä¸ç»„åˆå¼ API æ—¶è¯¥è¯­æ³•æ˜¯é»˜è®¤æ¨èã€‚ åŸºæœ¬è¯­æ³•åœ¨ &lt;script&gt; æ ‡ç­¾ä¸Šæ·»åŠ  setup å±æ€§å¯ç”¨è¯¥è¯­æ³•ï¼Œé‡Œé¢çš„ä»£ç ä¼šèƒŒç¼–è¯‘æˆç»„ä»¶ setup() å‡½æ•°çš„å†…å®¹ï¼Œæ¯æ¬¡ç»„ä»¶å®ä¾‹è¢«åˆ›å»ºæ—¶æ‰§è¡Œã€‚ 123&lt;script setup&gt;// ç»„åˆå¼ API å†™åœ¨è¿™é‡Œ&lt;/script&gt; å¦‚æœè¦ä½¿ç”¨ TypeScriptï¼ŒåŠ ä¸Š lang=&quot;ts&quot; å±æ€§å³å¯ã€‚ 12&lt;script lang=&quot;ts&quot; setup&gt;&lt;/script&gt; å½“ä½¿ç”¨ &lt;script setup&gt; çš„æ—¶å€™ï¼Œä»»ä½•åœ¨ &lt;script setup&gt; å£°æ˜çš„é¡¶å±‚çš„ç»‘å®š (åŒ…æ‹¬å˜é‡ï¼Œå‡½æ•°å£°æ˜ï¼Œä»¥åŠ import å¯¼å…¥çš„å†…å®¹) éƒ½èƒ½åœ¨æ¨¡æ¿ä¸­ç›´æ¥ä½¿ç”¨ã€‚ å“åº”å¼å“åº”å¼å³å˜é‡æ•°æ®å˜åŒ–çš„æ—¶å€™ï¼Œè§†å›¾è·Ÿç€å˜åŒ–ã€‚å“åº”å¼çŠ¶æ€éœ€è¦æ˜ç¡®ä½¿ç”¨ å“åº”å¼ API æ¥åˆ›å»º.å¸¸ç”¨ APIï¼š ref() reactive() computed() watch() watchEffect() readonly() æ¨¡æ¿å¼•ç”¨å®ä¾‹åœ¨ &lt;script setup&gt; ä¸­å¯é€šè¿‡ ref(null) å‡½æ•°å£°æ˜ ref åŒåå¸¸é‡ï¼Œå¯è·å–æ¨¡æ¿å¼•ç”¨å®ä¾‹ 123456789101112131415&lt;template&gt; &lt;input ref=&quot;input&quot; /&gt;&lt;/template&gt;&lt;script setup&gt;import { ref, onMounted } from 'vue'// å£°æ˜ä¸€ä¸ª ref æ¥å­˜æ”¾è¯¥å…ƒç´ çš„å¼•ç”¨// å¿…é¡»å’Œæ¨¡æ¿é‡Œçš„ ref åŒåconst input = ref(null)onMounted(() =&gt; { input.value.focus()})&lt;/script&gt; ç»„ä»¶ä½¿ç”¨ç»„ä»¶&lt;script setup&gt; é‡Œçš„å€¼ä¹Ÿèƒ½è¢«ç›´æ¥ä½œä¸ºè‡ªå®šä¹‰ç»„ä»¶çš„æ ‡ç­¾åä½¿ç”¨ï¼š 12345678&lt;template&gt; &lt;MyComponent /&gt; æ¨èä½¿ç”¨ PascalCase æ ¼å¼ä»¥ä¿æŒå’Œå˜é‡ä¿æŒä¸€è‡´ã€‚ &lt;my-component&gt;ä¹Ÿå¯ä»¥ç”¨ kebab-case æ ¼å¼çš„æ ‡ç­¾&lt;/my-component&gt;&lt;/template&gt;&lt;script setup&gt;import MyComponent from './MyComponent.vue'&lt;/script&gt; åŠ¨æ€ç»„ä»¶ç”¨ :is ç»‘å®šåŠ¨æ€ç»„ä»¶ 123456789&lt;template&gt; &lt;component :is=&quot;Foo&quot; /&gt; &lt;component :is=&quot;someCondition ? Foo : Bar&quot; /&gt;&lt;/template&gt;&lt;script setup&gt;import Foo from './Foo.vue'import Bar from './Bar.vue'&lt;/script&gt; é€’å½’ç»„ä»¶ä¸€ä¸ªå•æ–‡ä»¶ç»„ä»¶å¯ä»¥é€šè¿‡å®ƒçš„æ–‡ä»¶åè¢«å…¶è‡ªå·±æ‰€å¼•ç”¨ã€‚ä¾‹å¦‚ï¼šåä¸º FooBar.vue çš„ç»„ä»¶å¯ä»¥åœ¨å…¶æ¨¡æ¿ä¸­ç”¨ &lt;FooBar /&gt; å¼•ç”¨å®ƒè‡ªå·±ã€‚ 1234567891011121314&lt;!-- FooBar.vue --&gt;&lt;template&gt; &lt;!-- é€’å½’æ˜¾ç¤ºåˆ†ç±»åŠå…¶å­åˆ†ç±» --&gt; &lt;ul v-for=&quot;category in categories&quot;&gt; &lt;li&gt; {{ category.title }} &lt;FooBar v-if=&quot;category.children&quot; :categories=&quot;category.children&quot;&gt;&lt;/FooBar&gt; &lt;/li&gt; &lt;/ul&gt;&lt;/template&gt;&lt;script&gt; defineProps(['categories'])&lt;/script&gt; å‘½åç©ºé—´ç»„ä»¶å¯ä»¥ä½¿ç”¨å¸¦ . çš„ç»„ä»¶æ ‡ç­¾ï¼Œä¾‹å¦‚ &lt;Foo.Bar&gt; æ¥å¼•ç”¨åµŒå¥—åœ¨å¯¹è±¡å±æ€§ä¸­çš„ç»„ä»¶ã€‚è¿™åœ¨éœ€è¦ä»å•ä¸ªæ–‡ä»¶ä¸­å¯¼å…¥å¤šä¸ªç»„ä»¶çš„æ—¶å€™éå¸¸æœ‰ç”¨ï¼š 123456789&lt;script setup&gt;import * as Form from './form-components'&lt;/script&gt;&lt;template&gt; &lt;Form.Input&gt; &lt;Form.Label&gt;label&lt;/Form.Label&gt; &lt;/Form.Input&gt;&lt;/template&gt; é€šè¿‡æ’æ§½æ¥åˆ†é…å†…å®¹æˆ‘ä»¬ä½¿ç”¨ &lt;slot&gt; ä½œä¸ºä¸€ä¸ªå ä½ç¬¦ï¼Œçˆ¶ç»„ä»¶ä¼ é€’è¿›æ¥çš„å†…å®¹å°±ä¼šæ¸²æŸ“åœ¨è¿™é‡Œã€‚ 1234567&lt;!-- AlertBox.vue --&gt;&lt;template&gt; &lt;div class=&quot;alert-box&quot;&gt; &lt;strong&gt;This is an Error for Demo Purposes&lt;/strong&gt; &lt;slot /&gt; &lt;/div&gt;&lt;/template&gt; 12345&lt;template&gt; &lt;AlertBox&gt; Something bad happened. &lt;/AlertBox&gt;&lt;/template&gt; å…·åæ’æ§½ï¼š 1&lt;slot name=&quot;header&quot;&gt;&lt;/slot&gt; å¼•ç”¨å…·åç»„ä»¶ï¼š 1234567&lt;template v-slot:header&gt;&lt;!-- header æ’æ§½çš„å†…å®¹æ”¾è¿™é‡Œ --&gt;&lt;/template&gt;ç®€å†™ï¼š&lt;template #header&gt;&lt;!-- header æ’æ§½çš„å†…å®¹æ”¾è¿™é‡Œ --&gt;&lt;/template&gt; ä½¿ç”¨è‡ªå®šä¹‰æŒ‡ä»¤&lt;script setup&gt; ä¸­è‡ªå®šä¹‰çš„æŒ‡ä»¤ä¸éœ€è¦æ˜¾å¼æ³¨å†Œå°±å¯ä»¥ç›´æ¥ä½¿ç”¨ã€‚ 12345678910&lt;script setup&gt;const vMyDirective = { beforeMount: (el) =&gt; { // åœ¨å…ƒç´ ä¸Šåšäº›æ“ä½œ }}&lt;/script&gt;&lt;template&gt; &lt;h1 v-my-directive&gt;...&lt;/h1&gt;&lt;/template&gt; defineProps() å’Œ defineEmits() defineProps() ç”¨æ¥å£°æ˜å±æ€§ defineEmits() ç”¨æ¥å£°æ˜äº‹ä»¶ defineProps() å’Œ defineEmits() æ˜¯ç¼–è¯‘å™¨å®ï¼Œä¸éœ€è¦å¯¼å…¥ï¼Œå¹¶ä¸”åªèƒ½åœ¨ &lt;script setup&gt; ä¸­ä½¿ç”¨ã€‚ 1234567891011121314151617181920212223&lt;script setup&gt;const props = defineProps({ foo: String})// åœ¨ &lt;script setup&gt; ä¸­å¯ä½¿ç”¨ defineProps() è¿”å›å€¼å˜é‡è®¿é—®è‡ªå®šä¹‰å±æ€§console.log(props.foo)// ç»„ä»¶å£°æ˜äº‹ä»¶åï¼Œè¿˜éœ€è¦è§¦å‘äº‹ä»¶ï¼Œæ‰èƒ½è®©äº‹ä»¶èµ·ä½œç”¨ã€‚const emits = defineEmits(['change', 'delete'])const onDelete = () =&gt; { // åœ¨ &lt;script setup&gt; ä¸­å¯ä»¥ç”¨ defineEmits() è¿”å›å€¼å˜é‡è§¦å‘äº‹ä»¶ã€‚ emits('delete')}&lt;/script&gt;&lt;template&gt; &lt;p&gt;{{ foo }}&lt;/p&gt; &lt;!-- template ä¸­å¯ä»¥ç”¨é¢„ç½®å˜é‡ $emit è§¦å‘å£°æ˜çš„å˜é‡ --&gt; &lt;input @keyup=&quot;$emit('change')&quot; /&gt; &lt;button @click=&quot;onDelete&quot;&gt;åˆ é™¤&lt;/button&gt;&lt;/template&gt; defineProps() é»˜è®¤å€¼é ts æˆ‘ä»¬å¯ä»¥ç”¨ default æ¥è®¾ç½®é»˜è®¤å€¼ï¼Œts éœ€è¦ç”¨ withDefaults ç¼–è¯‘å™¨å®ã€‚ 12345678910&lt;script setup&gt;// é ts å£°æ˜å±æ€§çš„é»˜è®¤å€¼defineProps({ msg: { type: String, default: 'hello', required: false }});&lt;/script&gt; 12345678910&lt;script setup lang=&quot;ts&quot;&gt;export interface Props { msg?: string}// TypeScript ä½¿ç”¨ withDefaults ç¼–è¯‘å™¨å®const props = withDefaults(defineProps&lt;Props&gt;(), { msg: 'hello'})&lt;/script&gt; defineExpose()é€šè¿‡æ¨¡æ¿å¼•ç”¨æˆ–è€… $parent é“¾è·å–åˆ°çš„ç»„ä»¶çš„å…¬å¼€å®ä¾‹ï¼Œé»˜è®¤ä¸ä¼šæš´éœ²ä»»ä½•åœ¨ &lt;script setup&gt; ä¸­å£°æ˜çš„ç»‘å®šã€‚å¯ä»¥é€šè¿‡ defineExpose ç¼–è¯‘å™¨å®æ¥æ˜¾å¼æŒ‡å®šåœ¨ &lt;script setup&gt; ç»„ä»¶ä¸­è¦æš´éœ²å‡ºå»çš„ç»‘å®šã€‚ æ›´è¯¦ç»†çš„å†…å®¹å‰å¾€ã€Šç»„ä»¶é—´äº’ç›¸è®¿é—®ã€‹ï¼ŒåŒ…å«ç»„ä»¶çˆ¶ç»„ä»¶è®¿é—®å­ç»„ä»¶ã€å­ç»„ä»¶è®¿é—®çˆ¶ç»„ä»¶ã€å…„å¼Ÿç»„ä»¶äº’ç›¸è®¿é—®ã€‚ é™åˆ¶&lt;script setup&gt; æ ‡ç­¾ä¸èƒ½åŠ  src å±æ€§ã€‚ å‚è€ƒ Vue &lt;script setup&gt; æ–‡æ¡£ Vue å®˜æ–¹æ–‡æ¡£ Vue APIå‚è€ƒ","link":"/front-end/vue3-sfc-composition-script-setup.html"},{"title":"VueRouter åé€€é¡µé¢åˆ·æ–°é—®é¢˜è§£å†³æ–¹æ¡ˆ","text":"ç”¨ VueRouter hash æ¨¡å¼æ—¶ï¼Œç‚¹å‡»æµè§ˆå™¨ä¸Šçš„åé€€æŒ‰é’®ï¼Œæµè§ˆå™¨æ˜¾ç¤ºä¸Šä¸€æ¬¡æµè§ˆé¡µé¢çš„æ—¶å€™ï¼Œä¼šé‡æ–°æ‰§è¡Œé¡µé¢ï¼Œåƒé¡µé¢åˆ·æ–°ä¸€æ ·ã€‚ è·Ÿå¾®ä¿¡å°ç¨‹åºä¸ä¸€æ ·ï¼Œå¾®ä¿¡å°ç¨‹åºåé€€çš„æ—¶å€™ä¸ä¼šé‡æ–°æ‰§è¡Œï¼Œåªæ˜¯ç»™æˆ‘ä»¬ä¸€ä¸ª onShow äº‹ä»¶ï¼Œè¿™æ ·å¦‚æœéœ€è¦åˆ·æ–°æ•°æ®ï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨ onShow é‡Œé¢è§£å†³ã€‚ è§£å†³æ–¹æ¡ˆ1ï¼šç”¨ keep-alive ç»„ä»¶ä½¿ç”¨ Vue å†…ç½®çš„ keep-alive ç»„ä»¶ã€‚ä½¿ç”¨è¯¥ç»„ä»¶åï¼Œå¯ç¼“å­˜ç»„ä»¶çŠ¶æ€ï¼Œ é¡µé¢äºŒæ¬¡æ˜¾ç¤ºæ—¶ï¼Œè§¦å‘ onActivated äº‹ä»¶ï¼Œæˆ‘ä»¬å¯åœ¨ onActivated ä¸­å†³å®šæ˜¯å¦åˆ·æ–°åˆ—è¡¨æ•°æ®ã€‚æ­¤æ–¹æ³•è§£å†³æ¯”è¾ƒå®Œç¾ï¼Œä½†æ˜¯ç¨å¾®å¤æ‚ï¼Œå¹¶å‘æ€§èƒ½è¦æ±‚è¾ƒé«˜æ—¶ï¼Œæ¨èä½¿ç”¨è¯¥æ–¹æ¡ˆã€‚ ç¬¬1æ­¥ï¼Œä¿®æ”¹ router-view æ ‡ç­¾æŠŠ &lt;router-view&gt;&lt;/router-view&gt; æ”¹ä¸ºï¼š 123456&lt;router-view v-slot=&quot;{ Component, route }&quot;&gt; &lt;keep-alive&gt; &lt;component :is=&quot;Component&quot; v-if=&quot;route.meta.keepAlive&quot; /&gt; &lt;/keep-alive&gt; &lt;component :is=&quot;Component&quot; v-if=&quot;!route.meta.keepAlive&quot; /&gt;&lt;/router-view&gt; ç”¨ keep-alive éœ€è¦æ³¨æ„çš„æ˜¯ï¼šç»„ä»¶ç¬¬ä¸€æ¬¡æ‰“å¼€åŠ è½½æ•°æ®æ¸²æŸ“é¡µé¢ï¼Œç¬¬äºŒæ¬¡æ‰“å¼€æ—¶ï¼Œä¸ç®¡ä½ æ˜¯ç‚¹å‡»é“¾æ¥è¿˜æ˜¯å‰è¿›åé€€åˆ°è¯¥ç»„ä»¶ï¼Œéƒ½æ˜¯è§¦å‘ onActivatedã€onDeactivated äº‹ä»¶ï¼Œè€Œä¸ä¼šé‡æ–°æ‰§è¡Œ&amp;æ¸²æŸ“é¡µé¢ï¼Œå› æ­¤éœ€è¦æ‰‹åŠ¨æ£€æµ‹æ•°æ®æ›´æ–°æ—¶é‡æ–°åŠ è½½æ•°æ®ã€‚ ç¬¬2æ­¥ï¼Œè·¯ç”±è®¾ç½®åœ¨éœ€è¦ä¿æŒçŠ¶æ€çš„é¡µé¢çš„è·¯ç”±ä¸ŠåŠ ä¸Š meta.keepAlive = true å‚æ•°ï¼Œå¦‚ 1{ path: '/orders', component: () =&gt; import('./pages/order/Index.vue'), meta: { keepAlive: true } } ç¬¬3æ­¥ï¼Œæ•°æ®æœ‰æ›´æ–°åˆ™åˆ·æ–°åˆ—è¡¨æ•°æ®è¯¦æƒ…é¡µæ›´æ”¹åï¼Œæ ‡è®°æ•°æ®å·²æ›´æ”¹ï¼Œç„¶åå†åœ¨åˆ—è¡¨é¡µæ£€æµ‹æ•°æ®æ˜¯å¦å˜æ›´ï¼Œå˜æ›´åˆ™åˆ·æ–°æ•°æ®ã€‚ 12345678&lt;!-- pages/order/Index.vue --&gt;&lt;script setup&gt;import { onActivated } from 'vue';// åŠ ä¸Š keep-alive ç»„ä»¶åï¼Œè·¯ç”±ç»„ä»¶å¢åŠ  activated äº‹ä»¶ï¼Œé¡µé¢æ˜¾ç¤ºæ—¶è§¦å‘ã€‚onActivated(() =&gt; { // æ£€æµ‹åˆ—è¡¨æ•°æ®å¦å·²æ›´æ”¹ï¼Œæ›´æ”¹åˆ™åˆ·æ–°æ•°æ®});&lt;/script&gt; è§£å†³æ–¹æ¡ˆ2ï¼šæŠŠè¯·æ±‚å‚æ•°åŒæ­¥åˆ° hash åçš„æŸ¥è¯¢å‚æ•°å¹¶å‘è¦æ±‚ä¸é«˜çš„å¯ç”¨æ­¤æ–¹æ³•ï¼Œç®€å•ã€‚ ä¿®æ”¹ hash çš„æŸ¥è¯¢ä¸²ï¼Œé¡µé¢ä¸ä¼šè¢«åˆ·æ–°ã€‚å¦‚æœåˆ—è¡¨é¡µæœ‰è¯·æ±‚å‚æ•°å˜åŒ–æ—¶ï¼Œå¯ä¿®æ”¹ URL hashï¼ŒæŠŠè¯·æ±‚å‚æ•°æ›¿æ¢åˆ° hash åé¢çš„æŸ¥è¯¢ä¸²ï¼Œé¡µé¢åŠ è½½æ—¶æ ¹æ®è¯·æ±‚å‚æ•°è¯·æ±‚æœåŠ¡å™¨æ•°æ®ã€‚è¿™æ ·å°±å®Œå…¨ä¸ç”¨æ£€æŸ¥åˆ—è¡¨æ•°æ®æ˜¯å¦å·²æ›´æ–°ï¼Œè¿˜èƒ½ä¿è¯æ•°æ®å®æ—¶æ€§ï¼Œå”¯ä¸€ç¾ä¸­ä¸è¶³çš„æ˜¯ï¼Œåé€€è¿˜è¦é‡æ–°è¯·æ±‚æœåŠ¡å™¨æ•°æ®ã€é‡æ–°æ¸²æŸ“é¡µé¢ã€‚ 1234567891011axios.get('/admin/users', query, (resp) =&gt; { // æ›´æ–°åˆ—è¡¨æ•°æ® Object.assign(data, resp.data); // è¯·æ±‚å‚æ•°è½¬æ¢æˆæŸ¥è¯¢ä¸²å­—ç¬¦ä¸² const queryString = new URLSearchParams(query).toString(); // å–å¾—å»æ‰æŸ¥è¯¢ä¸²åçš„ URL hash const hash = window.location.hash.replace(/(.*?)\\?.*/, '$1'); // æ›´æ–° URL hash åé¢çš„æŸ¥è¯¢ä¸² window.location.hash = hash + '?' + queryString;}); è§£å†³æ–¹æ¡ˆ3ï¼šæŠŠå­é¡µé¢å°è£…æˆæ¨¡æ€çª—å­ç»„ä»¶åˆ—è¡¨é¡µçš„æ–°å»ºã€ç¼–è¾‘ã€æŸ¥çœ‹è¯¦æƒ…å¯åšæˆ æ¨¡æ€çª— æ–¹å¼ï¼Œä¸å­˜åœ¨åé€€åˆ°åˆ—è¡¨é¡µçš„æƒ…å†µï¼Œè‡ªç„¶å°±ä¸ç”¨æ‹…å¿ƒé¡µé¢é‡æ–°æ‰§è¡Œçš„é—®é¢˜ï¼Œè€Œä¸”ç”¨æˆ·ä½“éªŒè¿˜æ›´å¥½ã€‚å¦‚æœè¡¨å•é¡µé¢æ¯”è¾ƒå¤æ‚ï¼Œå†ä½¿ç”¨å‰é¢çš„æ–¹æ¡ˆã€‚ æ³¨æ„ï¼šæ•°æ®æ›´æ–°åæ³¨æ„åˆ·æ–°åˆ—è¡¨æ•°æ®ã€‚æ–°å»ºã€ç¼–è¾‘åéƒ½éœ€è¦åˆ·æ–°åˆ—è¡¨æ•°æ®ï¼Œå› æ­¤å»ºè®®åœ¨çˆ¶ç»„ä»¶ï¼ˆåˆ—è¡¨é¡µï¼‰æš´éœ²åˆ·æ–°æ•°æ®çš„æ–¹æ³•ï¼Œå†åœ¨æ–°å»ºã€ç¼–è¾‘ç»„ä»¶ä¸­å›è°ƒã€‚ å®ç°1 ä½¿ç”¨ exposeåœ¨å­ç»„ä»¶çš„ setup ä¸­ç”¨ getCurrentInstance().parent.exposed å¯ä»¥è®¿é—®çˆ¶ç»„ä»¶ç”¨ defineExpose æš´éœ²çš„ç»‘å®šã€‚ ç¼–è¾‘ç”¨æˆ·ç»„ä»¶ï¼ˆé¡µé¢ï¼‰ï¼š 123456789101112131415161718192021222324252627282930313233343536&lt;!-- user/Edit.vue --&gt;&lt;script setup&gt;import { ref, reactive, getCurrentInstance } from 'vue';const parentExposed = getCurrentInstance().parent.exposed; // çˆ¶ç»„ä»¶æš´éœ²çš„ç»‘å®šconst isShow = ref(false);const user = reactive({});const onClose = () =&gt; { isShow.value = false;};const show = (id) =&gt; { isShow.value = true // æ ¹æ® ID è·å–è¿œç¨‹æ•°æ® ... Object.assign(user, æœåŠ¡å™¨è¿”å›æ•°æ®);}const save = () =&gt; { // æäº¤æ•°æ® ... // æ›´æ–°åˆ—è¡¨æ•°æ® parentExposed.reloadData();}// æš´æ¼ show æ–¹æ³•defineExpose({ show });&lt;/script&gt;&lt;template&gt;&lt;el-dialog v-model=&quot;isShow&quot; title=&quot;ç¼–è¾‘&quot; @close=&quot;onClose&quot;&gt; {{ user.id }} ... &lt;input v-model=&quot;item.name&quot; /&gt; &lt;button @click=&quot;save&quot;&gt;ä¿å­˜&lt;/button&gt; &lt;/el-dialog&gt;&lt;/template&gt; åˆ—è¡¨ç»„ä»¶ï¼ˆçˆ¶ï¼‰ï¼Œå¼•ç”¨ç¼–è¾‘ç”¨æˆ·ä¿¡æ¯ç»„ä»¶ï¼ˆå­ï¼‰ 1234567891011121314151617181920212223242526272829&lt;!-- user/Index.vue --&gt;&lt;script setup&gt;import { ref } from 'vue'; import Edit from './Edit.vue';const editRef = ref(); // Edit ç»„ä»¶çš„æ¨¡æ¿å¼•ç”¨å®ä¾‹const users = [ {id: 1, name: 'è€ç‹'}, {id: 2, name: 'è€æ'},];const reloadData = () =&gt; { // é‡æ–°åŠ è½½æ•°æ®}defineExpose({ reloadData }); // reloadData æš´éœ²å‡ºæ¥ï¼Œç»™å­ç»„ä»¶è°ƒç”¨&lt;/script&gt;&lt;template&gt; &lt;!-- å¼•ç”¨å­ç»„ä»¶ --&gt; &lt;Edit ref=&quot;editRef&quot; /&gt; &lt;ul&gt; &lt;li v-for=&quot;user in users&quot;&gt; {{ user.name }} &lt;!-- çˆ¶ç»„ä»¶è°ƒç”¨ Edit å­ç»„ä»¶çš„æ¨¡æ¿å®ä¾‹æš´éœ²çš„ show() --&gt; &lt;button @click=&quot;editRef.show(user.id)&quot;&gt;ç¼–è¾‘&lt;/button&gt; &lt;/li&gt; &lt;/ul&gt;&lt;/template&gt; å®ç°2ï¼šä½¿ç”¨ä¾èµ–æ³¨å…¥ æ–¹æ¡ˆ3çš„å®ç°æ–¹æ¡ˆä¹Ÿå¯ä»¥ç”¨ ä¾èµ–æ³¨å…¥ å®ç°ï¼Œåœ¨çˆ¶ç»„ä»¶ä½¿ç”¨ provide æä¾›ä¾èµ–ï¼Œåœ¨å­ç»„ä»¶ç”¨ inject æ³¨å…¥ä¸Šå±‚ç»„ä»¶æä¾›çš„æ•°æ®æˆ–æ–¹æ³•ã€‚ åœ¨ setup ä¸­è®¿é—®çˆ¶ç»„ä»¶ï¼Œä½¿ç”¨ä¾èµ–æ³¨å…¥æ›´ä¾¿æ·ã€‚åœ¨æ¨¡æ¿ä¸­è®¿é—®ä¸Šå±‚ç»„ä»¶ï¼Œç”¨ expose æ›´æ–¹ä¾¿ 12345678&lt;script setup&gt;// å­ç»„ä»¶ Foo.vueimport { inject } from 'vue';const xyz = inject('abc');onMounted(() =&gt; { xyz();// å­ç»„ä»¶æ‰§è¡Œçˆ¶ç»„ä»¶æ³¨å…¥çš„ 'abc'})&lt;/script&gt; 12345678910111213&lt;!-- çˆ¶ç»„ä»¶ --&gt;&lt;template&gt; &lt;Foo /&gt; &lt;/template&gt;&lt;script setup&gt;import { provide } from 'vue'import Foo from './Foo.vue';provide('abc', () =&gt; { console.log('Hello')})&lt;/script&gt;","link":"/front-end/vuerouter-refresh-on-back-solution.html"},{"title":"Mac ä¸‹ç”¨ brew å®‰è£…å¤šç‰ˆæœ¬ php","text":"ä»¥å‰ç”¨ window ç³»ç»Ÿçš„æ—¶å€™ï¼Œç»å¸¸å» php å®˜ç½‘ä¸‹è½½ä¸åŒç‰ˆæœ¬çš„ php æ¥ä½¿ç”¨ï¼Œæ”¹ä¸€ä¸‹ç³»ç»Ÿ path å°±å¯ä»¥æ›´æ¢é»˜è®¤ php ç‰ˆæœ¬ï¼Œå…¶å®ƒç‰ˆæœ¬ç”¨å®Œæ•´è·¯å¾„ä¹Ÿå¯ä»¥ä½¿ç”¨ã€‚Mac ä¸Šå°±æ›´çœäº‹ä¸€ç‚¹ï¼Œç”¨ brew å‘½ä»¤å°±å¯ä»¥å®‰è£…ä¸åŒç‰ˆæœ¬çš„ phpï¼Œå†ç”¨ brew-php-switcher åˆ‡æ¢é»˜è®¤ php ç‰ˆæœ¬ï¼Œè€Œä¸”ç”¨ pecl å‘½ä»¤å°±å¯ä»¥å®‰è£… pecl æ‰©å±•ã€‚ æŸ¥è¯¢ php å®‰è£…åŒ…ç‰ˆæœ¬1brew search php æ‰§è¡Œå‘½ä»¤åï¼Œä½ ä¼šçœ‹åˆ°ä¸åŒç‰ˆæœ¬çš„ phpï¼Œ æœ€æ–°ç‰ˆçš„æ˜¯ä¸å¸¦ç‰ˆæœ¬å·ç›´æ¥æ˜¯ phpï¼Œæ—§ç‰ˆæœ¬å¸¦ç‰ˆæœ¬å·ï¼Œå¦‚ï¼šphp@8.1ã€php@7.4ã€‚ å®‰è£… php12brew install php #ä¸å¸¦ç‰ˆæœ¬å·æ˜¯æœ€æ–°ç‰ˆbrew install php@8.1 # å¸¦ç‰ˆæœ¬å· åˆ‡æ¢ php ç‰ˆæœ¬ æˆ‘ä»¬ç”¨ brew-php-switcher åŒ…æ¥åˆ‡æ¢ php ç‰ˆæœ¬ã€‚ä½¿ç”¨ä¹‹å‰ï¼Œéœ€è¦å…ˆå®‰è£…å®ƒã€‚ 12345678# å®‰è£…brew install brew-php-switcher# åˆ‡æ¢åˆ° php-8.1brew-php-switcher 8.1# åŠ  -s å‚æ•°åˆ‡æ¢ï¼Œä¸æ›´æ–° httpd é…ç½®brew-php-switcher 8.1 -s å¦‚æœåˆ‡æ¢æ—¶æç¤ºä¸æ”¯æŒçš„ php ç‰ˆæœ¬ï¼Œå…ˆæ›´æ–° brew-php-switcher å†åˆ‡æ¢å°±å¯ä»¥äº†ã€‚ 1brew upgrade brew-php-switcher å®‰è£… pecl åŒ…ç”¨ pecl å‘½ä»¤å®‰è£… pecl åŒ…ã€‚å¦‚ï¼š 123pecl install swoolepecl install redispecl install xdebug å¦‚æœå®‰è£…æ—¶æç¤ºè¯¥ pecl æ‰©å±•å·²å®‰è£…ï¼Œå¯èƒ½æ˜¯æ˜¯å¦å¤– php ç‰ˆæœ¬çš„æ‰©å±•å½±å“åˆ°ï¼Œå…ˆå¸è½½åå†å®‰è£…å°±å¯ä»¥ã€‚ 12pecl uninstall redispecl install redis é…ç½®ç”¨ pecl å®‰è£…æ‰©å±•åï¼Œæ‰©å±•åŠ è½½çš„è®¾ç½®ä¼šè‡ªåŠ¨åŠ åˆ° php.iniï¼Œå¦‚ï¼šextension=&quot;redis.so&quot;ï¼Œä½†ä¸ä¼šåŠ å…¥æ‰©å±•çš„é…ç½®å‚æ•°ï¼Œå¦‚æœè¦ä¸ªæ€§åŒ–è®¾ç½®åˆ™éœ€è¦è‡ªè¡ŒåŠ å…¥åˆ° php.iniã€‚ä¸éœ€è¦åŠ è½½æ‰©å±•æ—¶ï¼Œåªéœ€è¦æŠŠåŠ è½½æ‰©å±•çš„é…ç½®æ³¨é‡Šæ‰å°±å¯ä»¥ã€‚","link":"/php/brew-php-install-upgrade.html"},{"title":"Composer åŒ…ä¸‹è½½åŠ é€Ÿ","text":"Composerçš„å…ƒæ•°æ®å­˜åœ¨å›½å¤–çš„æœåŠ¡å™¨ï¼Œæ¯æ¬¡æ‰§è¡Œcomposerå‘½ä»¤çš„æ—¶å€™ï¼Œç»å¸¸è¦ä¸‹è½½å¾ˆå¤šçš„å…ƒæ•°æ®ï¼Œéœ€è¦å‡ åˆ†é’Ÿåˆ°åå‡ åˆ†é’Ÿï¼Œæ•ˆç‡æä½ã€‚ æˆ‘ä»¬å¯ä»¥è®¾ç½®ä½¿ç”¨å›½å†…composeré•œåƒæ¥åŠ é€Ÿã€‚ è®¾ç½®å‘½ä»¤ï¼š 12345# é˜¿é‡Œäº‘é•œåƒï¼ˆä¸åŒæ­¥äº†ï¼Œä¸æ¨èç”¨ï¼‰# composer config -g repo.packagist composer https://mirrors.aliyun.com/composer/# è…¾è®¯äº‘é•œåƒï¼ˆæ¨èç”¨ï¼‰composer config -g repos.packagist composer https://mirrors.tencent.com/composer/ æ¢å¤é»˜è®¤æºï¼š 1composer config -g --unset repos.packagist ä»é˜¿é‡Œäº‘é•œåƒæ¢è…¾è®¯äº‘é•œåƒæœ€è¿‘å®‰è£… Laravel 10 æ€»æç¤º åŒ¹é…ä¸åˆ° doctrine/inflector æœ€å°ç‰ˆæœ¬çš„é”™è¯¯ï¼š 1- laravel/framework[v10.0.0, ..., v10.4.1] require doctrine/inflector ^2.0.5 -&gt; found doctrine/inflector[2.0.x-dev, 2.1.x-dev] but it does not match your minimum-stability. æ‰“å¼€ packagist.org çœ‹ï¼Œæ˜æ˜æœ€æ–°åŒ…æ˜¯ 2.0.6ï¼Œæ€ä¹ˆä¼šæ²¡æœ‰ã€‚ ç”¨ composer show doctrine/inflector -a å‘½ä»¤ï¼Œçœ‹åˆ°çš„æœ€æ–°ç‰ˆæœ¬æ˜¯ 2.0.4 ğŸ˜­ã€‚å¯ä»¥å®é”¤æ˜¯é•œåƒæ²¡åŒæ­¥ï¼Œåº”ç”¨åŒ…å¤ªè€äº†ã€‚ ç”¨å‘½ä»¤ composer config -g --unset repos.packagist æ¢å¤é»˜è®¤æºï¼Œå†æ‰§è¡Œ composer show doctrine/inflector -aï¼Œæœç„¶æœ€æ–°åŒ…æ—¶ 2.0.6ã€‚ æ¢è…¾è®¯äº‘é•œåƒï¼Œé—®é¢˜è§£å†³ã€‚","link":"/php/composer-speed.html"},{"title":"Laravel Eloquent æ•°æ®åº“å…³è”æŸ¥è¯¢","text":"Eloquentå­æŸ¥è¯¢1234567User::query()-&gt;whereIn( 'id', UserRolePivot::query() -&gt;select('user_id') -&gt;where('role_id', $roleId))-&gt;get();// SELECT * FROM user WHERE id IN( SELECT user_id FROM user_role_pivot WHERE role_id = $roleId) åˆ†ç»„æŸ¥è¯¢ 12345678User::query()-&gt;where('verified', 1)-&gt;where(function ($query) use ($keyword) { $query-&gt;where('name', 'like', &quot;%{$keyword}%&quot;) -&gt;orWhere('email', 'like', &quot;%{$keyword}%&quot;) -&gt;orWhere('mobile', 'like', &quot;%{$keyword}%&quot;);})-&gt;get();// SELECT * FROM user WHERE verified = 1 AND (name LIKE '%{$keyword}%' OR email LIKE '%{$keyword}%' OR mobile LIKE '%{$keyword}%')","link":"/php/laravel-eloquent-database-relate-query.html"},{"title":"Laravel Eloquent æ•°æ®åº“å…³è”æ¨¡å‹çš„å¢åˆ æ”¹æ“ä½œ","text":"Laravel Eloquent ORM æä¾›äº†æ•°æ®æ¨¡å‹å…³è”è¡¨æ“ä½œçš„ APIï¼Œç†Ÿç»ƒæŒæ¡è¿™äº›APIåï¼Œæ‰ä½“ä¼šåˆ° Laravel æ•°æ®åº“æ“ä½œæœ‰å¤šé«˜æ•ˆã€‚ ä¸€ã€hasMany ä¸€å¯¹å¤šå…³è”save/saveMany åˆ›å»ºå…³è”è®°å½•12345678910111213141516// æ–°å»ºä¸€æ¡æ•°æ® Post çš„è¯„è®ºï¼Œsave å°†è‡ªåŠ¨æ·»åŠ  post_id å­—æ®µ$comment = new Comment(['message' =&gt; 'A new comment.']);$post = Post::find(1);$post-&gt;comments()-&gt;save($comment);// ä¿æŒå¤šæ¡è®°å½•$post-&gt;comments()-&gt;saveMany([ new Comment(['message' =&gt; 'A new comment.']), new Comment(['message' =&gt; 'Another new comment.']),]);// æ›´æ–°åéœ€è¦é‡æ–°åŠ è½½æ¨¡å‹åŠå…¶å…³è”ï¼Œæ‰ä¼šåŠ åˆ° $post-&gt;comments ä¸­$post-&gt;refresh();// æ‰€æœ‰è¯„è®ºï¼ŒåŒ…æ‹¬æ–°ä¿å­˜çš„è¯„è®º...$post-&gt;comments; create/createMany åˆ›å»ºå…³è”è®°å½•å’Œ save/saveMany çš„åŒºåˆ«æ˜¯å‚æ•°æ—¶æ•°ç»„ï¼Œè€Œä¸æ˜¯æ¨¡å‹ã€‚ 1234567891011121314use App\\Models\\Post;$post = Post::find(1);$comment = $post-&gt;comments()-&gt;create([ 'message' =&gt; 'A new comment.',]);$post = Post::find(1);$post-&gt;comments()-&gt;createMany([ ['message' =&gt; 'A new comment.'], ['message' =&gt; 'Another new comment.'],]); push é€’å½’ä¿å­˜æ¨¡å‹å’Œå…³è”æ•°æ®ä¿æŒæ¨¡å‹åŒæ—¶ï¼Œä¿å­˜å…¶å…³è”æ•°æ®ã€‚ ä¾‹ï¼šä¿å­˜ Post æ¨¡å‹åŠå…¶è¯„è®ºå’Œè¯„è®ºä½œè€… 123456$post = Post::find(1);$post-&gt;comments[0]-&gt;message = 'Message';$post-&gt;comments[0]-&gt;author-&gt;name = 'Author Name';$post-&gt;push(); äºŒã€Belongs To ï¼ˆä¸€å¯¹å¤šåå‘ï¼‰å±äºå…³è”123456789101112use App\\Models\\Account;$account = Account::find(10);// associate å°†å­æ¨¡å‹åˆ†é…ç»™æ–°çš„çˆ¶æ¨¡å‹$user-&gt;account()-&gt;associate($account);// dissociate ä»å­æ¨¡å‹ä¸­åˆ é™¤çˆ¶æ¨¡å‹ï¼Œå°†å…³è”å¤–é”®è®¾ç½®ä¸º null$user-&gt;account()-&gt;dissociate();$user-&gt;save(); ä¸‰ã€å¤šå¯¹å¤šå…³è”attach åˆ›å»ºå¤šå¯¹å¤šå…³è”è®°å½•ç”¨äºæ–°å»ºæ—¶ã€‚ 12345678910// åˆ›å»ºå¤šå¯¹å¤šå…³è”è®°å½•$user-&gt;roles()-&gt;attach($roleId);$user-&gt;roles()-&gt;attach([1, 2, 3]);// å¯ä»¥é™„åŠ ä¸­é—´è¡¨å­—æ®µæ•°æ®$user-&gt;roles()-&gt;attach($roleId, ['expires' =&gt; $expires]);$user-&gt;roles()-&gt;attach([1 =&gt; ['expires' =&gt; $expires], 2, 3]);$user-&gt;roles()-&gt;attach([ 1 =&gt; ['expires' =&gt; $expires], 2 =&gt; ['expires' =&gt; $expires],]); detach åˆ é™¤ä¸­é—´è¡¨å…³è”è®°å½•ç”¨äºåˆ é™¤æ—¶ã€‚ 12345678// ç§»é™¤ç”¨æˆ·çš„ä¸€ä¸ªè§’è‰²...$user-&gt;roles()-&gt;detach($roleId);// ç§»é™¤ç”¨æˆ·çš„å¤šä¸ªè§’è‰²$user-&gt;roles()-&gt;detach([1, 2, 3]);// ç§»é™¤ç”¨æˆ·çš„æ‰€æœ‰è§’è‰²...$user-&gt;roles()-&gt;detach(); sync åŒæ­¥å…³è”ç”¨äºä¿®æ”¹æ¨¡å‹æ—¶ã€‚ ä¸­é—´è¡¨è®°å½•ä¸­ï¼Œæ‰€æœ‰æœªåœ¨ ID æ•°ç»„ä¸­çš„è®°å½•éƒ½å°†ä¼šè¢«ç§»é™¤ï¼Œåœ¨æ•°ç»„ä¸­çš„å¯æ›´æ–°ã€‚ 123456789$user-&gt;roles()-&gt;sync([1, 2, 3]);$user-&gt;roles()-&gt;sync([1 =&gt; ['expires' =&gt; true], 2, 3]);// $user-&gt;roles()-&gt;syncWithPivotValues([1 =&gt; ['active' =&gt; true], 2 =&gt; ['active' =&gt; true], 3 =&gt; ['active' =&gt; true]]) çš„ç®€å†™$user-&gt;roles()-&gt;syncWithPivotValues([1, 2, 3], ['active' =&gt; true]);// åŒæ­¥ä½†ä¸ç§»é™¤ç°æœ‰çš„å…³è” ID$user-&gt;roles()-&gt;syncWithoutDetaching([1, 2, 3]); toggle åˆ‡æ¢å…³è”å…³è”è¡¨ä¸­æœ‰åˆ™åˆ é™¤ï¼Œæ— åˆ™æ–°å»ºã€‚ 1$user-&gt;roles()-&gt;toggle([1, 2, 3]); å››ã€æ›´æ–°çˆ¶çº§æ—¶é—´æˆ³å½“ä¸€ä¸ªæ¨¡å‹å± belongsTo æˆ–è€… belongsToMany å¦ä¸€ä¸ªæ¨¡å‹æ—¶ï¼Œ ä¾‹å¦‚ Comment å±äº Post ï¼Œå½“ Comment æ¨¡å‹è¢«æ›´æ–°æ—¶ï¼Œä½ éœ€è¦è‡ªåŠ¨ã€Œè§¦å‘ã€çˆ¶çº§ Post æ¨¡å‹çš„ updated_at æ—¶é—´æˆ³çš„æ›´æ–°ã€‚Eloquent è®©å®ƒå˜å¾—ç®€å•ï¼Œåªè¦åœ¨å­æ¨¡å‹åŠ ä¸€ä¸ªåŒ…å«å…³è”åç§°çš„ touches å±æ€§å³å¯ï¼š 1234567891011121314151617181920namespace App\\Models;use Illuminate\\Database\\Eloquent\\Model;class Comment extends Model{ /** * éœ€è¦è§¦å‘çš„æ‰€æœ‰å…³è”å…³ç³»ã€‚ */ protected $touches = ['post']; /** * è¯„è®ºæ‰€å±æ–‡ç« ã€‚ */ public function post() { return $this-&gt;belongsTo(Post::class); }} å‚è€ƒ Laravel 9 ä¸­æ–‡æ–‡æ¡£","link":"/php/laravel-eloquent-pivot-read-write.html"},{"title":"Laravel Eloquent æ—¥æœŸç³»åˆ—åŒ–","text":"Laravel Eloquent æ—¥æœŸç³»åˆ—åŒ–æˆ jsonï¼Œé»˜è®¤ç³»åˆ—åŒ–æ ¼å¼ä¸ºï¼š2023-03-08T08:16:02.000000Zã€‚åŸå› æ˜¯ Laravel æ¨¡å‹åŸºç±»çš„ serializeDate() æ—¶é—´ç³»åˆ—åŒ–æ–¹æ³•è°ƒç”¨ Carbon\\Traits\\Converter::toJSON() æ–¹æ³•ï¼Œè¿”å›çš„æ˜¯ ISO-8601 æ ¼å¼çš„æ—¥æœŸã€‚ å¼•èµ·é—®é¢˜çš„ä»£ç å¦‚ä¸‹ï¼š 12345678910111213// Illuminate\\Database\\Eloquent\\Concerns\\HasAttributesprotected function serializeDate(DateTimeInterface $date){ return $date instanceof DateTimeImmutable ? CarbonImmutable::instance($date)-&gt;toJSON() : Carbon::instance($date)-&gt;toJSON();}// class Carbon\\Traits\\Converterpublic function toJSON(){ return $this-&gt;toISOString();} è§£å†³åŠæ³•æ˜¯åœ¨æ¨¡å‹ä¸­è¦†ç›– serializeDate æ–¹æ³•ï¼Œè¿”å› Carbon\\Traits\\Converter::toDateTimeString() æ–¹æ³•å°±å¯ä»¥ã€‚ å¦‚ä»£ç ï¼Œæ¨èæŠŠ serializeDate æ–¹æ³•æ”¾åˆ°ä¸€ä¸ª trait ä¸­ï¼Œåœ¨æ¨¡å‹ç±»ä¸­å† use è¯¥ traitã€‚ 1234567891011namespace App\\Models\\traits;use Illuminate\\Support\\Carbon;trait SerializeDate{ protected function serializeDate(\\DateTimeInterface $date): string { return Carbon::instance($date)-&gt;toDateTimeString(); }} æ·»åŠ  casts â€˜datetime:Y-m-d H:i:sâ€™ æ¥è§£å†³è¿™ä¸ªé—®é¢˜æ˜¯ä¸æ­£ç¡®çš„ï¼Œå› ä¸ºè¿™æ ·æ ¼å¼åŒ–çš„æ˜¯è½¬æ¢åçš„ iso æ ‡å‡†æ—¶é—´ï¼Œæˆ‘å›½æ—¶é—´ä¼šæœ‰8å°æ—¶è¯¯å·®ã€‚æˆ‘ä»¬ç”¨è¦†ç›– serializeDate æ–¹æ³•çš„æ–¹å¼ï¼Œä¸ç®¡æ˜¯ç”¨ utc æ—¶é—´è¿˜æ˜¯æœ¬åœ°æ—¶é—´ï¼Œéƒ½ä¸ä¼šæœ‰é—®é¢˜ã€‚é¦–å…ˆä½ è¦å…ˆè®¾ç½® Laravel çš„æ—¶åŒºï¼Œåœ¨ config/app.php ä¸­æŠŠ timezone è®¾ä¸º PRC æˆ– Asia/Shanghaiï¼Œé»˜è®¤æ˜¯ UTC æ—¶é—´ã€‚ æ›´å¥½çš„è§£å†³æ–¹æ¡ˆå¦‚æœä½ çš„ç³»ç»Ÿ100%æ˜¯ç»™å›½äººç”¨ï¼Œç”¨ä¸Šé¢çš„æ–¹æ³•æ˜¯æ²¡é—®é¢˜çš„ã€‚å¦‚æœè€å¤–ä¹Ÿç”¨ï¼Œä½ çš„ Laravel åº”è¯¥ä½¿ç”¨ UTC æ—¶é—´ï¼Œæ˜¾ç¤ºçš„æ—¶å€™å†è½¬æ¢æˆæœ¬åœ°æ—¶é—´ã€‚ ç”¨jsæ ¼å¼åŒ–æ—¥æœŸåçš„è¿”å›UTCæ—¶é—´ï¼Œå‰ç«¯ç”¨ JS æ ¼å¼åŒ–æ—¥æœŸ 1new Date('2023-03-08T08:16:02.000000Z').toLocaleString() åç«¯æ—¥æœŸè½¬æ¢å¦‚æœä½ ä¸æ˜¯ç”¨å‰ç«¯æ˜¾ç¤ºjsï¼Œè€Œæ˜¯åœ¨ blade ä¸­ä½¿ç”¨æ¨¡æ¿è§†å›¾ï¼Œå¯é€šè¿‡å‰ç«¯è·å–å®¢æˆ·ç«¯æ—¶å·®ï¼Œç”¨ cookie ä¼ åˆ°æœåŠ¡å™¨ã€‚ 12&lt;script&gt;document.cookie = &quot;tzo=&quot;+ (- new Date().getTimezoneOffset()/60) æœåŠ¡å™¨ç«¯è·å–æ—¶å·®ï¼Œå†è®¾ç½®ç»™ Carbonã€‚ 1$user-&gt;created_at-&gt;addHours($_COOKIE['tzo'])-&gt;rawFormat('Y-m-d H:i:s');","link":"/php/laravel-eloquent-serialize-date.html"},{"title":"Laravel ä¸­ä½¿ç”¨ Intervention ç¼©æ”¾å›¾ç‰‡&#x2F;ç”Ÿæˆç¼©ç•¥å›¾","text":"Laravel ä¸­ä½¿ç”¨ Intervention åº“ç¼©æ”¾å›¾ç‰‡çš„æ—¶å€™ï¼Œæ²¡å¿…è¦ç”¨ä¸“ä¾›çš„æ¥å£ï¼Œç”¨é€šç”¨ä¸éœ€è¦ä»»ä½•é…ç½®ï¼Œè¿˜æ›´ç®€å•ï¼Œç›´æ¥è°ƒç”¨å°±å¯ä»¥ã€‚ step 1ã€composer å®‰è£… Intervention åŒ…composer require intervention/image step 2ã€è°ƒç”¨ Intervention API12345678910111213141516171819202122232425262728293031323334353637383940namespace App\\Foundation;use Illuminate\\Support\\Facades\\Storage;use Intervention\\Image\\ImageManagerStatic;class ImageHelper{ /** * ç”Ÿæˆç¼©ç•¥å›¾ã€‚ * æŒ‡å®šå®½é«˜åˆ™ç¼©æ”¾åè£å‰ªï¼ŒåªæŒ‡å®šå®½æˆ–é«˜åˆ™ç­‰æ¯”ç¼©å°ã€‚ * @param string $orgPath åŸå›¾è·¯å¾„ * @param string $targetPath å°å›¾ä¿å­˜è·¯å¾„ */ public static function thumb(string $orgPath, string $targetPath, int|null $width, int|null $height): bool { $img = ImageManagerStatic::make($orgPath); $width || $width = null; $height || $height = null; if ($width &amp;&amp; $height) { // æŒ‡å®šå®½é«˜ï¼Œç¼©å°åˆ°åˆé€‚çš„å¤§å°ï¼Œå†æŠŠè¶…è¿‡å»çš„éƒ¨åˆ†è£å‰ªæ‰ $img-&gt;fit($width, $height, function ($constraint) { $constraint-&gt;upsize(); // é˜²æ­¢ç¼©ç•¥å›¾æ¯”åŸå›¾å¤§ }); } else { // åªæŒ‡å®šå®½æˆ–é«˜ï¼Œç­‰æ¯”ç¼©å° $img-&gt;resize($width, $height, function ($constraint) { $constraint-&gt;aspectRatio(); // è‡ªåŠ¨ç­‰æ¯”ç¼©æ”¾ $constraint-&gt;upsize(); // é˜²æ­¢ç¼©ç•¥å›¾æ¯”åŸå›¾å¤§ }); } return Storage::put( $targetPath, $img-&gt;encode('jpg')-&gt;getEncoded() ); }}","link":"/php/laravel-intervention-resize-image.html"},{"title":"Laravel Eloquent æ¨¡å‹å±æ€§å‚æ•°è¯¦è§£","text":"@TODO $tableæ¨¡å‹ç»‘å®šè¡¨åï¼Œé»˜è®¤æ˜¯æ¨¡å‹ç±»å kebab-case å¸¦ä¸‹åˆ’çº¿å°å†™çš„å¤æ•°å½¢å¼ã€‚ $primaryKey = â€˜idâ€™$keyType = â€˜integerâ€™fillableattributeshiddencasts æ•°å­—ã€å­—ç¬¦ä¸²ç±»å‹ä¸éœ€è¦è½¬æ¢ã€‚ appends$timestamps = true$dateFormat = â€˜Y-m-d H:i:sâ€™","link":"/php/laravel-model-property.html"},{"title":"PhpStorm + Xdebug è¿œç¨‹è°ƒè¯•PHP","text":"è¿™ç¯‡æ–‡ç« è§£å†³ï¼š PhpStorm + xdebug å•æ­¥è°ƒè¯•PHPçš„è®¾ç½® è¿œç¨‹æœåŠ¡å™¨PHPæºç è°ƒè¯• å¾®ä¿¡å…¬ä¼—å·æ¥å£/å°ç¨‹åºæ¥å£æœåŠ¡çš„è°ƒè¯• æœ‰äº›åº”ç”¨éœ€è¦éƒ¨ç½²åˆ°å¤–ç½‘ç¯å¢ƒæ‰èƒ½è¿è¡Œï¼Œæˆ‘ä»¬ä½¿ç”¨ PhpStorm + Xdebug åœ¨æœ¬åœ°è°ƒè¯•è¿œç¨‹webæœåŠ¡å™¨è·‘çš„ä»£ç ã€‚ å®‰è£…xdebugæ‰©å±•1pecl install xdebug å¦‚æœæœåŠ¡å™¨éƒ¨ç½²çš„æ˜¯phpå¾ˆæ–°ï¼Œå®‰è£…xdebugä¸æˆåŠŸï¼Œå¯ä»¥è¯•è¯• pecl install xdebug-beta é…ç½®xdebugåœ¨php.iniä¸­æ·»åŠ å¦‚ä¸‹é…ç½® 12345678910111213141516171819202122232425[xdebug]zend_extension = xdebug.soxdebug.remote_enable = On; å•æ­¥è°ƒè¯•çš„IDEæ‰€åœ¨ä¸»æœºxdebug.remote_host = &quot;192.168.1.167&quot;; IDEè°ƒè¯•å™¨ç›‘å¬ç«¯å£ï¼Œmacä¸‹å’Œphp-fpmç«¯å£å†²çªï¼Œè‡ªè¡Œæ›´æ”¹è¯¥ç«¯å£xdebug.remote_port = 9000xdebug.remote_handler = &quot;dbgp&quot;; è‡ªåŠ¨è¿æ¥è°ƒè¯•IDExdebug.remote_autostart = 1; å¦‚æœå¯ç”¨ï¼Œåˆ™å¿½ç•¥ xdebug.remote_hostè®¾ç½®ï¼Œ ä¸ç®¡å“ªé‡Œè¯·æ±‚ï¼Œéƒ½æ˜¯å›è°ƒæ‰€è¯·æ±‚çš„IPï¼ˆå³xdebug.remote_hoståŠ¨æ€è®¾ç½®ä¸ºè¯·æ±‚IPï¼‰xdebug.remote_connect_back = 0xdebug.auto_trace = 1xdebug.collect_includes = 1xdebug.collect_params = 1xdebug.collect_return = 1xdebug.default_enable = 1xdebug.collect_assignments = 1xdebug.collect_vars = 1xdebug.show_local_vars = 1xdebug.show_exception_trace = 0xdebug.profiler_enable = 1xdebug.profiler_output_dir = &quot;/temp/xdebug&quot;xdebug.profiler_output_name = cachegrind.out.%R%uxdebug.trace_format = 2 è®¾ç½®ideç›‘å¬xdebugè°ƒè¯•ç«¯å£æ‰“å¼€ PhpStorm è®¾ç½®ï¼š 12345# windowsFile &gt; Settings &gt; Languages &amp;&amp; Frameworks &gt; PHP &gt; Debug# macPhpStorm &gt; Preferences... &gt; Languages &amp;&amp; Frameworks &gt; PHP &gt; Debug è®¾ç½®xdebugçš„è°ƒè¯•ç«¯å£è·Ÿphp.iniä¸­ä¸€è‡´çš„è°ƒè¯•ç«¯å£ã€‚ å¯åŠ¨ç›‘å¬è°ƒè¯•ç‚¹å‡» â€œStart Listeningâ€å›¾æ ‡å¯åŠ¨ç›‘å¬è°ƒè¯•ï¼ˆå›¾æ ‡å³è¾¹æŒ‚ä¸ªç”µè¯çš„å›¾æ ‡ï¼‰ã€‚ä¸æƒ³è°ƒè¯•çš„æ—¶å€™åœæ­¢ç›‘å¬å³å¯ã€‚ è°ƒè¯•ç»™è¦è°ƒè¯•çš„è„šæœ¬åŠ æ–­ç‚¹ï¼Œæµè§ˆæœåŠ¡å™¨ä¸Šè¦è°ƒè¯•çš„é¡µé¢ï¼ˆURLï¼‰ï¼Œå³å¯å†æœ¬åœ°IDEä¸­è°ƒè¯•ã€‚ æ³¨æ„äº‹é¡¹è°ƒè¯• swoole åº”ç”¨çš„æ—¶å€™ï¼ŒIDEè¦å…ˆå¯åŠ¨è°ƒè¯•ç›‘å¬ï¼Œç„¶åå†å¯åŠ¨ swoole åº”ç”¨æœåŠ¡ï¼Œå†æµè§ˆç½‘å€è¿›è¡Œç›‘å¬ã€‚å› ä¸ºcliæ¨¡å¼ä¸‹è¿è¡Œè„šæœ¬æ—¶æ‰å¯åŠ¨è°ƒè¯•ï¼Œè€Œphp-fpmæˆ–mod_phpæ¯æ¬¡æµè§ˆPHPé¡µé¢çš„æ—¶å€™éƒ½ä¼šå‘èµ·è°ƒè¯•ï¼Œå› æ­¤å¯åŠ¨è°ƒè¯•ç›‘å¬ååˆ·æ–°é¡µé¢å³å¯è°ƒè¯•ã€‚è°ƒè¯•å™¨å¯èƒ½ä¸ä¼šåœ¨é¦–è¡Œåœä¸‹äº†ï¼Œå› æ­¤éœ€è¦åŠ æ–­ç‚¹åå†è°ƒè¯•ã€‚ å¾®ä¿¡å…¬ä¼—å·æ¥å£ä¸å¥½è°ƒè¯•å—ï¼Ÿæˆ‘ä»¬å¯ä»¥ç»“åˆè·¯ç”±å™¨çš„ç«¯å£æ˜ å°„ + åŠ¨æ€åŸŸåè§£æï¼Œä½¿ç”¨è¿™ä¸ªé…ç½®æ–¹å¼å°±å¯ä»¥è°ƒè¯•äº†ã€‚","link":"/php/php-remote-debug-phpstorm-xdebug.html"},{"title":"elx-imgbox å‰ç«¯å›¾ç‰‡é€‰å–å’Œä¸Šä¼ æ’ä»¶","text":"ä¸€ä¸ªåŸºäºelement-uiï¼Œå®ç°å›¾ç‰‡é€‰å–å’Œä¸Šä¼ çš„Vueæ’ä»¶ï¼Œå¯æ˜¾è‘—æå‡ç®¡ç†åå°å›¾ç‰‡é€‰å–ã€ä¸Šä¼ çš„ç”¨æˆ·ä½“éªŒã€‚ æºç ï¼š https://github.com/yibafun/elx-imgbox æ•ˆæœæˆªå›¾1ã€é€‰å–å›¾ç‰‡åº“ä¸­çš„å›¾ç‰‡ 2ã€ä¸Šä¼ å›¾ç‰‡ require Vue 2.5+ element-ui 2+ jQuery ä½¿ç”¨æ–¹æ³•1ã€å¼•å…¥ä¾èµ–å‰ç«¯åº“123456&lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.bootcss.com/element-ui/2.0.5/theme-chalk/index.css&quot;&gt;&lt;script src=&quot;https://cdn.bootcss.com/vue/2.5.8/vue.js&quot;&gt;&lt;/script&gt;&lt;script src=&quot;https://cdn.bootcss.com/element-ui/2.0.5/index.js&quot;&gt;&lt;/script&gt;&lt;script src=&quot;https://cdn.bootcss.com/jquery/3.2.1/jquery.min.js&quot;&gt;&lt;/script&gt;&lt;!-- elx-imgbox ç›´æ¥å¼•ç”¨GitHubä¸Šçš„æ–‡ä»¶ï¼Œä½ å¯ä»¥ä¸‹è½½åˆ°æœ¬åœ°å†å¼•ç”¨ --&gt;&lt;script src=&quot;https://raw.githubusercontent.com/erzh/elx-imgbox/master/dist/imgbox.js&quot;&gt;&lt;/script&gt; 2ã€åœ¨åŸç”Ÿjsæˆ–Vueä»£ç ä¸­è°ƒç”¨12345678910111213141516171819202122// å‚æ•°è®¾ç½®var opts = { uploadUrl: 'http://imgbox.imcm.me/test/upload.json', listUrl: 'http://imgbox.imcm.me/test/list.json', onSelect: function(img){ // é€‰ä¸­å›¾ç‰‡åå›è°ƒå¤„ç†ï¼Œæ¯ä¸ªå›¾ç‰‡å›è°ƒä¸€æ¬¡ console.log(img); }};// è°ƒç”¨åŠŸèƒ½ï¼Œvar imgbox = Vue.elxImgbox(opts);options{ uploadUrl: '', // å›¾ç‰‡ä¸Šä¼ URL listUrl: '', // å›¾ç‰‡åˆ—è¡¨æ•°æ®URL multiple: true, // æ˜¯å¦æ”¯æŒé€‰å–å¤šä¸ªå›¾ç‰‡ limit: 10, // ä¸€æ‰¹æ¬¡æœ€å¤šå¯ä¸Šä¼ å›¾ç‰‡æ•° onSelect: null, // é€‰æ‹©åå›è°ƒå‡½æ•° enableUpload: true, // æ˜¯å¦å¯ç”¨å›¾ç‰‡ä¸Šä¼  maxSize: 2 // æœ€å¤§å°ºå¯¸ï¼ˆMï¼‰} å…³äºä¸Šä¼  æ”¯æŒé€‰æ‹©å•ä¸ªæ–‡ä»¶å’Œå¤šä¸ªæ–‡ä»¶ï¼› é€‰æ‹©æ–‡ä»¶åï¼Œéœ€è¦ç‚¹å‡»â€œç¡®å®šä¸Šä¼ â€å¼€å§‹ä¸Šä¼ å›¾ç‰‡ï¼› ä¸Šä¼ å›¾ç‰‡åªè¦æœ‰ä¸€å¼ æˆåŠŸåˆ™å›è°ƒå¹¶å…³é—­ä¸Šä¼ çª—å£ æœ‰é”™è¯¯å‘ç”ŸELEMENT.Message.error()æç¤º äº¤äº’æ•°æ®ä¸Šä¼ è¿”å›æ•°æ®æ ¼å¼1234567{ &quot;uploadfile_response&quot;: { &quot;name&quot;:&quot;å›¾ç‰‡å&quot;, &quot;thumb&quot;:&quot;å›¾ç‰‡ç¼©ç•¥å›¾é“¾æ¥&quot;, &quot;ä½ éœ€è¦çš„å…¶ä»–å±æ€§&quot;: &quot;å…¶ä»–å±æ€§å€¼&quot; }} åˆ—è¡¨æ•°æ®æ ¼å¼123456789101112{ &quot;list&quot;:[ { &quot;name&quot;: &quot;å›¾ç‰‡å&quot;, &quot;thumb&quot;: &quot;å›¾ç‰‡ç¼©ç•¥å›¾é“¾æ¥&quot;, &quot;label&quot;: &quot;å›¾ç‰‡é•¿xå®½&quot;, &quot;ä½ éœ€è¦çš„å…¶ä»–å±æ€§&quot;: &quot;å…¶ä»–å±æ€§å€¼&quot; } ], &quot;total&quot;: &quot;æ€»å›¾ç‰‡æ•°&quot;}","link":"/front-end/element-ui-imgbox.html"},{"title":"brew æ— æ³•æ‰§è¡Œå‘½ä»¤ï¼Œæ€»å‡ºç° Downloading https:&#x2F;&#x2F;...&#x2F;api&#x2F;formula.json","text":"æ¯æ¬¡ brew å‘½ä»¤éƒ½å‡ºç° Downloading https://formulae.brew.sh/api/formula.jsonï¼Œè€Œä¸”ç‰¹åˆ«æ…¢ï¼Œæ€»æ˜¯è¶…æ—¶ï¼Œç¿»å¢™äº†ä¹Ÿä¸ç®¡ç”¨â€¦brew æºå·²ç»è®¾ä¸ºé˜¿é‡Œäº‘çš„äº†ï¼Œè¿˜å‡ºç°è¿™ä¸œè¥¿ã€‚åŸå› æ˜¯ brew 4 é»˜è®¤ä» HOMEBREW_API_DOMAIN å®‰è£…åº”ï¼Œæ¯æ¬¡éƒ½ä¸‹è½½ formula.jsonã€‚ æœ‰ä¸¤ä¸ªæ–¹å¼èƒ½è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ æ–¹å¼1ï¼šæŠŠ HOMEBREW_API_DOMAIN è®¾ç½®åˆ°å›½å†…æºï¼Œè¿™æ ·æ¯æ¬¡è™½ç„¶éƒ½ä¼šä¸‹è½½ formula.jsonï¼Œä½†æ˜¯å°±å‡ ç§’çš„äº‹ã€‚ 12echo 'export HOMEBREW_API_DOMAIN=https://mirrors.aliyun.com/homebrew/homebrew-bottles/api' &gt;&gt; ~/.bash_profilesource ~/.zshrc æ–¹å¼2ï¼šç¦æ­¢ä» API å®‰è£…åº”ç”¨ï¼Œä¸ä¼šæ¯æ¬¡æ‰§è¡Œå‘½ä»¤å°±è·‘å‡ºè¿™ä¸œè¥¿ï¼Œä½†è¦æ‰‹åŠ¨å‡çº§åº”ç”¨ã€‚ æŠŠ export HOMEBREW_NO_INSTALL_FROM_API=1 åŠ å…¥ ~/.bash_profile 12echo 'export HOMEBREW_NO_INSTALL_FROM_API=1' &gt;&gt; ~/.bash_profilesource ~/.zshrc","link":"/tools/brew-no-install-from-api.html"},{"title":"ä½¿ç”¨ CentOS æœåŠ¡å™¨ ssh åš socks5 ä»£ç†","text":"æœåŠ¡å™¨ç«¯æ·»åŠ è´¦å·æœåŠ¡å™¨ç«¯ ssh ç¦ç”¨äº†å¯†ç ç™»å½•ï¼Œé…ç½® key ç™»å½•ï¼Œæ·»åŠ ç”¨æˆ·åä¸º pxy çš„è´¦å·ï¼Œåªå…è®¸ä½œä¸ºä»£ç†ï¼Œä¸å…è®¸åšå…¶å®ƒæ“ä½œã€‚ ä½¿ç”¨ root æƒé™æ“ä½œ 123456useradd pxy -g nobody -s /bin/false -mmkdir /home/pxy/.sshcd /home/pxy/.sshvim authorized_keys# è¾“å…¥å®¢æˆ·ç«¯shhå…¬é’¥chown pxy:nobody -R /home/pxy è®¾ç½®æœ¬åœ° ssh è¿æ¥åˆ›å»ºæœ¬åœ°ç§˜é’¥ï¼ˆåç§°ä¸ºpxy_rsaï¼‰ 1234567vim ~/.ssh/config # æ·»åŠ å†…å®¹Host pxyHostName 47.240.48.52Port 22User pxyIdentityFile ~/.ssh/pxy_rsa 3ã€å®¢æˆ·ç«¯æ‰§è¡Œå‘½ä»¤ 1ssh pxy -D 1080 -N è¿™æ ·åœ¨æœ¬åœ°å°±å¯ä»¥ä½¿ç”¨ localhost:1080 åšä»£ç†äº†ã€‚å¯ä»¥è®¾ç½®ç³»ç»Ÿçš„å…¨å±€ä»£ç†è®¾ç½®æ¥ä½¿ç”¨ä»£ç†ã€‚ åœ¨ Mac ç³»ç»Ÿï¼Œå¦‚æœåªå¯ç”¨å‘½ä»¤è¡Œçª—å£çš„ä»£ç†ï¼Œå¯åŠ¨ ssh ä»£ç†åï¼Œæ‰§è¡Œå‘½ä»¤ï¼š 1234# æ‰“å¼€ä»£ç†export all_proxy=socks5://127.0.0.1:1080# å…³é—­ä»£ç†unset all_proxy å¯ä»¥ç”¨å‘½ä»¤ curl ipinfo.io æŸ¥çœ‹å½“å‰å…¬ç½‘ IP ä¿¡æ¯ã€‚","link":"/tools/centos-ssh-socks5.html"},{"title":"Docker ä½¿ç”¨å®ä¾‹ï¼ˆéƒ¨ç½² LNMPï¼‰","text":"docker å‚æ•°è¯´æ˜ run è¿è¡Œé•œåƒï¼Œå°†åˆ›å»ºå®¹å™¨ exec è¿è¡Œå®¹å™¨ï¼ˆäº¤äº’å¼ï¼‰ start/stop/restart å¯åŠ¨/åœæ­¢/é‡å¯å®¹å™¨ ps æŸ¥çœ‹è¿è¡Œä¸­çš„å®¹å™¨ ps -a æŸ¥çœ‹å…¨éƒ¨å®¹å™¨ -d, â€“detach åœ¨åå°è¿è¡Œå®¹å™¨ï¼Œå¹¶ä¸”æ‰“å°å®¹å™¨idã€‚ -i, â€“interactive å³ä½¿æ²¡æœ‰è¿æ¥ï¼Œä¹Ÿè¦ä¿æŒæ ‡å‡†è¾“å…¥ä¿æŒæ‰“å¼€çŠ¶æ€ï¼Œä¸€èˆ¬ä¸ -t è¿ç”¨ã€‚ -t, â€“tty åˆ†é…ä¸€ä¸ªä¼ªttyï¼Œä¸€èˆ¬ä¸ -i è¿ç”¨ã€‚ docker run å‚æ•°è¯´æ˜æ›´å¤šå‚æ•°è¯´æ˜è§å®˜ç½‘ -v å®¿ä¸»æœºæ–‡ä»¶å¤¹:å®¹å™¨æ–‡ä»¶å¤¹ ç›®å½•æŒ‚è½½ï¼Œä½¿ç”¨ç»å¯¹è·¯å¾„ã€‚é™åˆ¶æŒ‚è½½æ–‡ä»¶å¤¹åœ¨å®¹å™¨ä¸­åªè¯»ï¼ŒåŠ  :ro â€“name å®¹å™¨å -p å®¿ä¸»æœºç«¯å£:å®¹å™¨ç«¯å£ ç«¯å£æ˜ å°„ â€“link æœ€åä¸€ä¸ªå‚æ•°ä¸ºé•œåƒå 1ã€ä¸‹è½½é•œåƒ 123docker pull php:fpmdocker pull mysqldocker pull nginx 2ã€å‡†å¤‡åˆ›å»ºæœ¬åœ°æ•°æ®ç›¸å…³ç›®å½• 123mkdir -p ~/docker-npm-test/wwwmkdir -p ~/docker-npm-test/mysqlmkdir -p ~/docker-npm-test/conf.d/nginx åˆ›å»ºå®¹å™¨ç½‘ç»œ 1docker network create dev MySQL123456docker run -itd --name mysql-test \\--network dev --network-alias mysql \\-v ~/docker-npm-test/mysql:/var/lib/mysql \\-p 3307:3306 \\-e MYSQL_ROOT_PASSWORD=123456 \\mysql PHP123456789101112131415161718192021docker run --name php-fpm-test -d \\--network dev --network-alias phpfpm \\-v ~/docker-npm-test/www:/www \\php:fpm# å®‰è£…æ‰©å±•apt update# å®‰è£…å„ç§åº“apt install -y libwebp-dev libjpeg-dev libpng-dev libfreetype-dev librust-onig-devdocker-php-source extractcd /usr/src/php/ext/gddocker-php-ext-configure gd --with-webp=/usr/include/webp --with-jpeg=/usr/include --with-freetype=/usr/include/freetype2/docker-php-ext-install gd docker-php-ext-install pdo pdo_mysqldocker-php-ext-enable mbstringpecl install redis &amp;&amp; docker-php-ext-enable redispecl install swoole &amp;&amp; docker-php-ext-enable swoole -v ~/docker-npm-test/www:/wwwæ˜¯å°†ä¸»æœºä¸­çš„ ~/docker-npm-test/html ç›®å½•æŒ‚è½½åˆ°å®¹å™¨ä¸­çš„ /www ç›®å½• nginxæœ¬æœºåˆ›å»ºé…ç½®æ–‡ä»¶ ~/docker-npm-test/conf.d/nginx/nginx-test.conf 123456789101112131415161718192021server { listen 80; server_name localhost; location / { root /usr/share/nginx/html; index index.html index.htm index.php; } error_page 500 502 503 504 /50x.html; location = /50x.html { root /usr/share/nginx/html; } location ~ \\.php$ { fastcgi_pass phpfpm:9000; fastcgi_index index.php; fastcgi_param SCRIPT_FILENAME /www/$fastcgi_script_name; include fastcgi_params; }} åˆ›å»º nginx å®¹å™¨ 12345docker run --name nginx-test -p 8083:80 -d \\--network dev --network-alias nginx \\-v ~/docker-npm-test/www:/usr/share/nginx/html:ro \\-v ~/docker-npm-test/conf.d/nginx:/etc/nginx/conf.d:ro \\nginx","link":"/tools/docker-living-example.html"},{"title":"PhpStorm å¿«æ·é”®","text":"æ–‡ä»¶ option + command + y åŒæ­¥æ–‡ä»¶/æ–‡ä»¶å¤¹ï¼Œæ–‡ä»¶å¤¹ä¸­å¤–éƒ¨æ–°å¢æˆ–åˆ é™¤æ–‡ä»¶æ—¶åˆ·æ–°æœ‰å»¶è¿Ÿï¼Œä½¿ç”¨è¯¥å¿«æ·é”®åŒæ­¥ Ctrl + n æ–°å»ºæ–‡ä»¶/æ–‡ä»¶å¤¹ ç¼–è¾‘ command + x å‰ªåˆ‡è¡Œ command + c å¤åˆ¶è¡Œ/å¤åˆ¶é€‰ä¸­æ–‡æœ¬ command + shift + c å¤åˆ¶æ–‡ä»¶/æ–‡ä»¶å¤¹è·¯å¾„ command + d å¤åˆ¶è¡Œ option + â†‘ é€‰æ‹©æ›´å¤šä»£ç  option + â†“ é€‰æ‹©æ›´å°‘ä»£ç  option + â†’ ä¸‹ä¸€ä¸ªä»£ç ï¼ˆä»¤ç‰Œï¼‰ä½ç½® option + â† ä¸Šä¸€ä¸ªä»£ç ï¼ˆä»¤ç‰Œï¼‰ä½ç½® command + â†’ ä»£ç è¡Œå°¾ command + â† ä»£ç è¡Œå¤´ tab å¢åŠ ç¼©è¿› shift + tab å‡å°‘ç¼©è¿› command + shift + enter å®Œæˆä»£ç å£°æ˜ æŸ¥æ‰¾ç›¸å…³ command + f æŸ¥æ‰¾å½“å‰æ–‡ä»¶ command + r æŸ¥æ‰¾æ›¿æ¢ command + shift + o å¿«é€ŸæŸ¥è¯¢æ–‡ä»¶ command + shift + f å…³é”®å­—æŸ¥æ‰¾,æ›´å¼ºå¤§çš„æŸ¥è¯¢å™¨ command + shift + r é«˜çº§æ›¿æ¢ command + option + b æ‰¾åˆ°å½“å‰ç±»ï¼ˆæ¥å£çš„ï¼‰æ‰€æœ‰ç»§æ‰¿ï¼ˆå®ç°ç±»ï¼‰ option + shift + c æŸ¥æ‰¾æœ€è¿‘ä¿®æ”¹çš„æ–‡ä»¶ option + f7 ç›´æ¥æŸ¥è¯¢é€‰ä¸­çš„å­—ç¬¦ ctrl + f7 æ–‡ä»¶ä¸­æŸ¥è¯¢é€‰ä¸­å­—ç¬¦ command + é¼ æ ‡ç‚¹å‡» è·³åˆ°ç±»æˆ–æ–¹æ³•æˆ–å˜é‡ç­‰å£°æ˜å¤„ command + shift + tab åˆ‡æ¢tabé¡µæ–‡ä»¶ command + shift + +,- å±•å¼€æˆ–ç¼©èµ· command + . æŠ˜å æˆ–å±•å¼€é€‰ä¸­çš„ä»£ç  View command + e æ‰“å¼€æœ€è¿‘çš„æ–‡ä»¶ shift + command + e æœ€è¿‘æ‰“å¼€æ–‡ä»¶å…·ä½“ä»£ç ä½ç½® Bookmarks F3 åŠ å…¥/å–æ¶ˆä¹¦ç­¾ option + F3 åŠ å…¥(å¯è®¾ç½®æ•°å­—å­—æ¯è®°å·çš„)/å–æ¶ˆä¹¦ç­¾ command + F3 å¼¹çª—æ˜¾ç¤º/éšè—ä¹¦ç­¾ Code shift + command + â†‘ å£°æ˜æ®µä¸Šç§» shift + command + â†“ å£°æ˜æ®µä¸‹ç§» shift + option + â†‘ è¡Œä¸Šç§» shift + option + â†“ è¡Œä¸‹ç§» è‡ªåŠ¨ä»£ç  option + å›è½¦ é€‰ä¸­ç±»å/æ¥å£ååæŒ‰å¿«æ·é”®ï¼Œå¯¼å…¥åŒ…ï¼Œè‡ªåŠ¨ä¿®æ­£ command + n å¿«é€Ÿç”Ÿæˆä»£ç ï¼Œä¸ºæ¯ä¸ªæˆå‘˜å±æ€§ç”Ÿæˆ getter/setter/__construct/æ–¹æ³•ã€æ–‡æ¡£æ³¨é‡Šã€å•å…ƒæµ‹è¯•ç­‰ ctrl + i å¿«é€Ÿç”Ÿæˆæ’å…¥é­”æœ¯æ–¹æ³• ctrl + o å¤å†™çˆ¶ç±»æ–¹æ³• command + option + l å¯¹å½“å‰æ–‡ä»¶è¿›è¡Œæ ¼å¼åŒ–æ’ç‰ˆ command + d å¤åˆ¶å½“å‰è¡Œ command + / // å•è¡Œæ³¨é‡Š command + shift + / å¤šè¡Œæ³¨é‡Š æ˜¾ç¤ºçª—å£ command + 1 Project command + 2 Favorites command + 6 TODO command + 7 Structure command + 9 Version Control ç‰ˆæœ¬æ§åˆ¶ option + F12 Terminal ç»ˆç«¯ Git ctrl + v ç‰ˆæœ¬æ§åˆ¶ç›¸å…³æ“ä½œ option + command + a Add option + command + z revert (å–æ¶ˆAdd) shift + command + p pull shift + command + k push command + k commit","link":"/tools/phpstorm-keyboard-shortcuts.html"},{"title":"CentOS ä¸‹ Nginx éƒ¨ç½²å…è´¹SSLå®‰å…¨è¯ä¹¦ Let&#39;s Encrypt ï¼ˆcertbotï¼‰","text":"å…³äºLetâ€™s EncryptLetâ€™s Encrypt æ˜¯ä¸€ä¸ªå…è´¹ã€å¼€æ”¾ï¼Œè‡ªåŠ¨åŒ–çš„è¯ä¹¦é¢å‘æœºæ„ï¼Œç”± ISRGï¼ˆInternet Security Research Groupï¼‰è¿ä½œã€‚ å…¼å®¹æ€§ï¼š Letâ€™s Encrypt å·²ç»å¾—äº† IdenTrust çš„äº¤å‰ç­¾åï¼Œè¿™æ„å‘³ç€å…¶è¯ä¹¦ç°åœ¨å·²ç»å¯ä»¥è¢«æ‰€æœ‰ä¸»æµçš„æµè§ˆå™¨æ‰€ä¿¡ä»»ï¼ŒåŒ…æ‹¬ä»IE6-IE11ï¼Œå…¶å®ƒç°ä»£æµè§ˆå™¨æ›´æ²¡è¯è¯´ï¼Œ100%æ”¾å¿ƒä½¿ç”¨ã€‚ ç”³è¯·é¢‘ç‡é™åˆ¶æ³¨å†ŒIPé™åˆ¶ï¼šæ¯IPæ¯3ä¸ªå°æ—¶ä¸è¶…è¿‡10æ¬¡ åŸŸåæ•°é‡é™åˆ¶ï¼šæ¯ä¸ªåŸŸåï¼ˆåŒ…å«å­åŸŸåï¼‰æ¯7å¤©ä¸è¶…è¿‡5ä¸ª è¯ä¹¦ä½ç½®æ‰€æœ‰ç‰ˆæœ¬å·²ç”³è¯·çš„è¯ä¹¦æ”¾åœ¨ /etc/letsencrypt/archiveä¸‹ï¼Œ/etc/letsencrypt/liveæ˜¯æŒ‡å‘æœ€æ–°ç‰ˆæœ¬çš„ç¬¦å·é“¾æ¥ã€‚web serverä¸­å…³äºè¯ä¹¦çš„é…ç½®å»ºè®®æŒ‡å‘ live ç›®å½•ä¸‹çš„æ–‡ä»¶ï¼Œä»¥å…è¯ä¹¦æ›´æ–°åè¿˜éœ€è¦æ›´æ”¹é…ç½®ã€‚ æ¯ä¸ªåŸŸåä¸€ä¸ªç›®å½•ï¼Œä¸»è¦åŒ…å«ä»¥ä¸‹å‡ ä¸ªæ–‡ä»¶ï¼š cert.pem ç”³è¯·çš„æœåŠ¡å™¨è¯ä¹¦æ–‡ä»¶ privkey.pem æœåŠ¡å™¨è¯ä¹¦å¯¹åº”çš„ç§é’¥ chain.pem é™¤æœåŠ¡å™¨è¯ä¹¦å¤–ï¼Œæµè§ˆå™¨è§£ææ‰€éœ€çš„å…¶ä»–å…¨éƒ¨è¯ä¹¦ï¼Œæ¯”å¦‚æ ¹è¯ä¹¦å’Œä¸­é—´è¯ä¹¦ fullchain.pem åŒ…å«æœåŠ¡å™¨è¯ä¹¦çš„å…¨éƒ¨è¯ä¹¦é“¾æ–‡ä»¶ è¯ä¹¦æ›´æ–° Letâ€™s Encrypt é¢å‘çš„æœåŠ¡å™¨è¯ä¹¦æœ‰æ•ˆæœŸä¸º90å¤©ï¼Œå®˜æ–¹è¡¨ç¤ºæ­¤ä¸ºå‡ºäºå®‰å…¨åŸå› ï¼Œé™ä½é”™å‘è¯ä¹¦ï¼Œè¯ä¹¦æ³„æ¼çš„å±å®³ã€‚é€šè¿‡è‡ªåŠ¨ç»­æœŸæ¥è§£å†³æœ‰æ•ˆæœŸçŸ­çš„é—®é¢˜ï¼Œå®˜æ–¹å»ºè®®æ¯2ä¸ªæœˆæ›´æ–°è¯ä¹¦ã€‚ å¦‚æœåˆ°æœŸæ²¡æœ‰æ›´æ–°è¯ä¹¦ï¼ŒCAä¼šå‘ç”³è¯·è¯ä¹¦æ—¶æäº¤çš„é‚®ä»¶åœ°å€å‘é€æé†’emailã€‚ è‡ªåŠ¨ç»­æœŸå¯ä»¥ä½¿ç”¨ crontab å®ç°ã€‚æ³¨æ„æ›´æ–°è¯ä¹¦åé‡å¯ web server ï¼ ç”Ÿæˆè¯ä¹¦é€šè¿‡å®˜æ–¹æä¾›çš„certbotå·¥å…·ç”Ÿæˆè¯ä¹¦ å®‰è£… certbotä½¿ç”¨yumå®‰è£… 1yum -y install certbot å¦‚æœå®‰è£…ä¸æˆåŠŸï¼Œå¯ä»¥ç”¨gitå…‹éš†certbotæºç æ¥æ‰§è¡Œ 12git clone https://github.com/certbot/certbotcd certbot å®‰è£…è¯ä¹¦æœ‰å¤šç§æ–¹å¼ï¼Œæˆ‘ä»¬ç”¨ç»‘å®šè¯ä¹¦åˆ°ç«™ç‚¹ç›®å½•çš„æ–¹å¼å®‰è£…ï¼Œè¿™æ ·æ›´æ–°è¯ä¹¦æ—¶ä¸éœ€è¦åœæ­¢nginxã€‚ 1certbot certonly --webroot -w /path/to/webroot/ -d yiba.fun -d www.yiba.fun --email cmpan@qq.com /path/to/webroot/ ä¸ºç«™ç‚¹æ ¹ç›®å½•ï¼Œé…ç½®æ—¶åŸŸåå¿…é¡»æ˜¯å¯è®¿é—®çš„ã€‚ 123456789# ç›‘å¬443ç«¯å£listen 443 default ssl;# å¯ç”¨ sslssl on;ssl_certificate /etc/letsencrypt/live/yiba.fun/fullchain.pem;ssl_certificate_key /etc/letsencrypt/live/yiba.fun/privkey.pem;ssl_protocols TLSv1 TLSv1.1 TLSv1.2 SSLv3;ssl_prefer_server_ciphers on; å¸¸è§é—®é¢˜1ï¼‰IE6æ‰“ä¸å¼€ssl_protocols å¢åŠ SSLv3å‚æ•°å³å¯ï¼ŒIE6çš„å®‰å…¨è®¾ç½®ä¸­é»˜è®¤ä¸å‹¾é€‰ TLS åè®®ã€‚ 2ï¼‰ç¬¬ä¸€æ¬¡æ‰§è¡Œletsencrypt-autoéœ€è¦å®‰è£…éœ€è¦çš„å…³è”åŒ…ï¼Œéœ€è¦ç­‰å¾…çš„æ—¶é—´æ¯”è¾ƒé•¿ï¼Œç”šè‡³æ›´æ–°ç³»ç»Ÿå…³è”åŒ…åæ‰§è¡Œè„šæœ¬ä¸æˆåŠŸï¼Œå†æ‰§è¡Œä¸€æ¬¡å°±è¡Œã€‚ 3ï¼‰å…è´¹ç‰ˆæœ¬ä¸æ”¯æŒé€šæˆæƒåŸŸåä½¿ç”¨é€šé…ç¬¦ 12# ä¸æ”¯æŒä½¿ç”¨ * é€šé…ç¬¦-d *.yiba.fun","link":"/tools/nginx-ssl-lets-encrypt.html"},{"title":"Homebrew è®¾ç½®ä¸ºé˜¿é‡Œæº","text":"å¢™æ´å¤ªå°æ€»æ˜¯æ‹¥å µï¼Œæœ‰å¿…è¦æŠŠ Homebrew æºæ”¹ä¸ºæˆå›½å†…æºã€‚ Homebrew æºä¸»è¦æœ‰å››ä¸ªéƒ¨åˆ†ç»„æˆ: åç§° è¯´æ˜ brew Homebrew æºä»£ç ä»“åº“ homebrew-core Homebrew æ ¸å¿ƒè½¯ä»¶ä»“åº“ homebrew-bottles Homebrew é¢„ç¼–è¯‘äºŒè¿›åˆ¶è½¯ä»¶åŒ… homebrew-cask æä¾› macOS åº”ç”¨å’Œå¤§å‹äºŒè¿›åˆ¶æ–‡ä»¶ æŸ¥çœ‹å½“å‰æº123456789$ cd &quot;$(brew --repo)&quot; &amp;&amp; git remote -vorigin https://github.com/Homebrew/brew.git (fetch)origin https://github.com/Homebrew/brew.git (push)# æŸ¥çœ‹ homebrew-core.git å½“å‰æº$ cd &quot;$(brew --repo homebrew/core)&quot; &amp;&amp; git remote -vorigin https://github.com/Homebrew/homebrew-core.git (fetch)origin https://github.com/Homebrew/homebrew-core.git (push) æ”¹ä¸ºé˜¿é‡Œæº 123456789101112131415# ä¿®æ”¹ brew.git ä¸ºé˜¿é‡Œæº$ git -C &quot;$(brew --repo)&quot; remote set-url origin https://mirrors.aliyun.com/homebrew/brew.git# ä¿®æ”¹ homebrew-core.git ä¸ºé˜¿é‡Œæº$ git -C &quot;$(brew --repo homebrew/core)&quot; remote set-url origin https://mirrors.aliyun.com/homebrew/homebrew-core.git# bash æ›¿æ¢ brew äºŒè¿›åˆ¶åŒ…é•œåƒ$ echo 'export HOMEBREW_BOTTLE_DOMAIN=https://mirrors.aliyun.com/homebrew/homebrew-bottles' &gt;&gt; ~/.bash_profile$ source ~/.bash_profile # zsh å¯æ‰§è¡Œ source ~/.zshrc# æ›´æ–°æº$ brew update# æ¸…ç†æ—§åŒ…$ brew cleanup æŠ±æ€¨ä¸€ä¸‹ï¼Œæ¸…åæºå¯èƒ½å¾ˆä¹…éƒ½æ²¡æ›´æ–°åŒ…ï¼Œæˆ‘ä¹‹å‰ç”¨å®ƒå¾ˆå¤šåŒ…éƒ½å¥½è€ï¼Œæ”¹æºæ‰§è¡Œ brew update æ›´æ–°äº†ä¸€å¤§å †ã€‚ æ”¹å›å®˜æ–¹æº1234567891011121314# é‡ç½® brew.git ä¸ºå®˜æ–¹æº$ git -C &quot;$(brew --repo)&quot; remote set-url origin https://github.com/Homebrew/brew.git# é‡ç½® homebrew-core.git ä¸ºå®˜æ–¹æº$ git -C &quot;$(brew --repo homebrew/core)&quot; remote set-url origin https://github.com/Homebrew/homebrew-core.git# é‡ç½® homebrew-cask.git ä¸ºå®˜æ–¹æº$ git -C &quot;$(brew --repo homebrew/cask)&quot; remote set-url origin https://github.com/Homebrew/homebrew-cask# bash æ³¨é‡Šæ‰ HOMEBREW_BOTTLE_DOMAIN é…ç½®$ vim ~/.bash_profile# export HOMEBREW_BOTTLE_DOMAIN=xxxxxxxxx å‚è€ƒï¼šã€ŠMac ä¸‹ brew åˆ‡æ¢ä¸ºå›½å†…æºã€‹","link":"/tools/set-brew-source-to-aliyun.html"},{"title":"è§£å†³ vim ç²˜è´´å†…å®¹ç¼©è¿›é”™ä¹±é—®é¢˜","text":"å¹³æ—¶ç»å¸¸ç”¨vimç¼–è¾‘æœåŠ¡å™¨ç«¯ä¸€äº›é…ç½®æ–‡ä»¶å’Œè„šæœ¬ï¼Œå½“å¤åˆ¶ç²˜è´´å†…å®¹æ—¶ï¼Œä¼šå› ä¸ºè‡ªåŠ¨ç¼©è¿›æŠŠä»£ç ç¼©è¿›æä¹±äº†ã€‚ è§£å†³åŠæ³•ï¼šè¿›å…¥ç²˜è´´æ¨¡å¼ç²˜è´´å†…å®¹1:set paste æˆ‘ä»¬ä¸èƒ½ç›´æ¥é€šè¿‡ä¿®æ”¹é…ç½®æ¥é€‚åº”ç²˜è´´å†…å®¹ï¼Œå› ä¸ºç²˜è´´æ¨¡å¼ä¸‹é…ç½®å˜åŒ–ï¼š 1234567891011121314textwidth = 0wrapmargin = 0set noaiset nosisofttabstop = 0revins é‡ç½®ruler é‡ç½®showmatch é‡ç½®formatoptions ä½¿ç”¨ç©ºå€¼# ä¸‹é¢çš„é€‰é¡¹å€¼ä¸å˜ï¼Œä½†å´è¢«ç¦ç”¨ï¼šlispindentexprcindent","link":"/tools/vim-paste.html"}],"tags":[{"name":"Gradle","slug":"Gradle","link":"/tags/Gradle/"},{"name":"JavaScript","slug":"JavaScript","link":"/tags/JavaScript/"},{"name":"ç®­å¤´å‡½æ•°","slug":"ç®­å¤´å‡½æ•°","link":"/tags/%E7%AE%AD%E5%A4%B4%E5%87%BD%E6%95%B0/"},{"name":"Dexie.js","slug":"Dexie-js","link":"/tags/Dexie-js/"},{"name":"Promise","slug":"Promise","link":"/tags/Promise/"},{"name":"prototype","slug":"prototype","link":"/tags/prototype/"},{"name":"call","slug":"call","link":"/tags/call/"},{"name":"apply","slug":"apply","link":"/tags/apply/"},{"name":"bind","slug":"bind","link":"/tags/bind/"},{"name":"Class","slug":"Class","link":"/tags/Class/"},{"name":"Object","slug":"Object","link":"/tags/Object/"},{"name":"Vue","slug":"Vue","link":"/tags/Vue/"},{"name":"ç»„åˆå¼API","slug":"ç»„åˆå¼API","link":"/tags/%E7%BB%84%E5%90%88%E5%BC%8FAPI/"},{"name":"å“åº”å¼","slug":"å“åº”å¼","link":"/tags/%E5%93%8D%E5%BA%94%E5%BC%8F/"},{"name":"VueRouter","slug":"VueRouter","link":"/tags/VueRouter/"},{"name":"brew","slug":"brew","link":"/tags/brew/"},{"name":"brew-php-switcher","slug":"brew-php-switcher","link":"/tags/brew-php-switcher/"},{"name":"Composer","slug":"Composer","link":"/tags/Composer/"},{"name":"Laravel","slug":"Laravel","link":"/tags/Laravel/"},{"name":"Eloquent","slug":"Eloquent","link":"/tags/Eloquent/"},{"name":"Intervention","slug":"Intervention","link":"/tags/Intervention/"},{"name":"Image","slug":"Image","link":"/tags/Image/"},{"name":"PhpStorm","slug":"PhpStorm","link":"/tags/PhpStorm/"},{"name":"Xdebug","slug":"Xdebug","link":"/tags/Xdebug/"},{"name":"Element-UI","slug":"Element-UI","link":"/tags/Element-UI/"},{"name":"Mac","slug":"Mac","link":"/tags/Mac/"},{"name":"Homebrew","slug":"Homebrew","link":"/tags/Homebrew/"},{"name":"SSH","slug":"SSH","link":"/tags/SSH/"},{"name":"CentOS","slug":"CentOS","link":"/tags/CentOS/"},{"name":"Socks5","slug":"Socks5","link":"/tags/Socks5/"},{"name":"Docker","slug":"Docker","link":"/tags/Docker/"},{"name":"LNMP","slug":"LNMP","link":"/tags/LNMP/"},{"name":"IDE","slug":"IDE","link":"/tags/IDE/"},{"name":"Nginx","slug":"Nginx","link":"/tags/Nginx/"},{"name":"Certbot","slug":"Certbot","link":"/tags/Certbot/"},{"name":"SSL","slug":"SSL","link":"/tags/SSL/"},{"name":"Let&#39;s Encrypt","slug":"Let-s-Encrypt","link":"/tags/Let-s-Encrypt/"},{"name":"Vim","slug":"Vim","link":"/tags/Vim/"}],"categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","link":"/categories/%E5%89%8D%E7%AB%AF/"},{"name":"Android","slug":"Android","link":"/categories/Android/"},{"name":"IndexedDB","slug":"å‰ç«¯/IndexedDB","link":"/categories/%E5%89%8D%E7%AB%AF/IndexedDB/"},{"name":"JavaScript","slug":"å‰ç«¯/JavaScript","link":"/categories/%E5%89%8D%E7%AB%AF/JavaScript/"},{"name":"Vue","slug":"å‰ç«¯/Vue","link":"/categories/%E5%89%8D%E7%AB%AF/Vue/"},{"name":"PHP","slug":"PHP","link":"/categories/PHP/"},{"name":"å·¥å…·","slug":"å·¥å…·","link":"/categories/%E5%B7%A5%E5%85%B7/"},{"name":"Laravel","slug":"PHP/Laravel","link":"/categories/PHP/Laravel/"},{"name":"Docker","slug":"å·¥å…·/Docker","link":"/categories/%E5%B7%A5%E5%85%B7/Docker/"}],"pages":[{"title":"å…³äº","text":"æˆ‘æ˜¯ä¼Šçˆ¸ï¼Œä¸€ä¸ªå¤§é¾„å…¨æ ˆç å†œã€‚ PHP/Go Laravel/Hyperf Gin/Beego MySQL/Mongo TS/ES/Vue/ElementPlus SCSS/Bootstrap/Tailwind","link":"/about/index.html"}]}